!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).OKSentry=t()}(this,function(){"use strict";const e=Object.prototype.toString;function t(t){switch(e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return d(t,Error)}}function n(t,n){return e.call(t)===`[object ${n}]`}function r(e){return n(e,"ErrorEvent")}function o(e){return n(e,"DOMError")}function i(e){return n(e,"String")}function s(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function a(e){return n(e,"Object")}function c(e){return"undefined"!=typeof Event&&d(e,Event)}function u(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function d(e,t){try{return e instanceof t}catch(e){return!1}}function l(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function f(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function p(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{l(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function h(e,t,r=!1){return!!i(e)&&(n(t,"RegExp")?t.test(e):!!i(t)&&(r?e===t:e.includes(t)))}function m(e,t=[],n=!1){return t.some(t=>h(e,t,n))}function g(e,t,n=250,r,o,i,s){if(!(i.exception&&i.exception.values&&s&&d(s.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;a&&(i.exception.values=(c=_(e,t,o,s.originalException,r,i.exception.values,a,0),u=n,c.map(e=>(e.value&&(e.value=f(e.value,u)),e))))}function _(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(d(r[o],Error)){y(s,a);const i=e(t,r[o]),u=c.length;v(i,o,u,a),c=_(e,t,n,r[o],o,[i,...c],i,u)}return Array.isArray(r.errors)&&r.errors.forEach((r,i)=>{if(d(r,Error)){y(s,a);const u=e(t,r),d=c.length;v(u,`errors[${i}]`,d,a),c=_(e,t,n,r,o,[u,...c],u,d)}}),c}function y(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function v(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function E(e){return e&&e.Math==Math?e:void 0}const x="object"==typeof globalThis&&E(globalThis)||"object"==typeof window&&E(window)||"object"==typeof self&&E(self)||"object"==typeof global&&E(global)||function(){return this}()||{};function S(){return x}function w(e,t,n){const r=n||x,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const b=S();function T(e,t={}){try{let n=e;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=k(n,d),!("html"===u||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch(e){return"<unknown>"}}function k(e,t){const n=e,r=[];let o,s,a,c,u;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const d=t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(d&&d.length)d.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&i(o))for(s=o.split(/\s+/),u=0;u<s.length;u++)r.push(`.${s[u]}`);const l=["aria-label","type","name","title","alt"];for(u=0;u<l.length;u++)a=l[u],c=n.getAttribute(a),c&&r.push(`[${a}="${c}"]`);return r.join("")}const I=["debug","info","warn","error","log","assert","trace"],R={};function D(e){if(!("console"in x))return e();const t=x.console,n={},r=Object.keys(R);r.forEach(e=>{const r=R[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}const C=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?I.forEach(n=>{t[n]=(...t)=>{e&&D(()=>{x.console[n](`Sentry Logger [${n}]:`,...t)})}}):I.forEach(e=>{t[e]=()=>{}}),t}(),N=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function O(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function B(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function A(e){const t="string"==typeof e?function(e){const t=N.exec(e);if(!t)return void console.error(`Invalid Sentry Dsn: ${e}`);const[n,r,o="",i,s="",a]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return B({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(e):B(e);if(t&&function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(C.error(`Invalid Sentry Dsn: ${t} missing`),!0))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(C.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(C.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(C.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class L extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function $(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&U(o,r),e[t]=o}function P(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function U(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,P(e,"__sentry_original__",t)}catch(e){}}function M(e){return e.__sentry_original__}function j(e){if(t(e))return{message:e.message,name:e.name,stack:e.stack,...Y(e)};if(c(e)){const t={type:e.type,target:G(e.target),currentTarget:G(e.currentTarget),...Y(e)};return"undefined"!=typeof CustomEvent&&d(e,CustomEvent)&&(t.detail=e.detail),t}return e}function G(e){try{return t=e,"undefined"!=typeof Element&&d(t,Element)?T(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Y(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function F(e){return q(e,new Map)}function q(e,t){if(a(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=q(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach(e=>{r.push(q(e,t))}),r}return e}const H=/\(error: (.*)\)/,z=/captureMessage|captureException/;function K(...e){const t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0)=>{const r=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const i=H.test(n)?n.replace(H,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){r.push(t);break}}if(r.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),z.test(t[t.length-1].function||"")&&(t.pop(),z.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map(e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(r)}}const V="<anonymous>";function W(e){try{return e&&"function"==typeof e&&e.name||V}catch(e){return V}}const J=S();function X(){if(!("fetch"in J))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Z(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Q=S();const ee=S(),te="__sentry_xhr_v2__",ne={},re={};function oe(e){if(!re[e])switch(re[e]=!0,e){case"console":!function(){if(!("console"in x))return;I.forEach(function(e){e in x.console&&$(x.console,e,function(t){return R[e]=t,function(...t){se("console",{args:t,level:e});const n=R[e];n&&n.apply(x.console,t)}})})}();break;case"dom":!function(){if(!ee.document)return;const e=se.bind(null,"dom"),t=pe(e,!0);ee.document.addEventListener("click",t,!1),ee.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{const n=ee[t]&&ee[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&($(n,"addEventListener",function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const r=pe(e);s.handler=r,t.call(this,n,r,o)}s.refCount++}catch(e){}return t.call(this,n,r,o)}}),$(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}();break;case"xhr":!function(){if(!ee.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;$(e,"open",function(e){return function(...t){const n=t[1],r=this[te]={method:i(t[0])?t[0].toUpperCase():t[0],url:t[1],request_headers:{}};i(n)&&"POST"===r.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const e=this[te];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}se("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?$(this,"onreadystatechange",function(e){return function(...t){return o(),e.apply(this,t)}}):this.addEventListener("readystatechange",o),$(this,"setRequestHeader",function(e){return function(...t){const[n,r]=t,o=this[te];return o&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}}),e.apply(this,t)}}),$(e,"send",function(e){return function(...t){const n=this[te];return n&&void 0!==t[0]&&(n.body=t[0]),se("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}();break;case"fetch":!function(){if(!function(){if(!X())return!1;if(Z(J.fetch))return!0;let e=!1;const t=J.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Z(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}())return;$(x,"fetch",function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:ce(t),method:ae(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:ce(t),method:ae(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return se("fetch",{...o}),e.apply(x,t).then(e=>(se("fetch",{...o,endTimestamp:Date.now(),response:e}),e),e=>{throw se("fetch",{...o,endTimestamp:Date.now(),error:e}),e})}})}();break;case"history":!function(){if(!function(){const e=Q.chrome,t=e&&e.app&&e.app.runtime,n="history"in Q&&!!Q.history.pushState&&!!Q.history.replaceState;return!t&&n}())return;const e=ee.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=ue,t=String(n);ue=t,se("history",{from:e,to:t})}return e.apply(this,t)}}ee.onpopstate=function(...t){const n=ee.location.href,r=ue;if(ue=n,se("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},$(ee.history,"pushState",t),$(ee.history,"replaceState",t)}();break;case"error":he=ee.onerror,ee.onerror=function(e,t,n,r,o){return se("error",{column:r,error:o,line:n,msg:e,url:t}),!(!he||he.__SENTRY_LOADER__)&&he.apply(this,arguments)},ee.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":me=ee.onunhandledrejection,ee.onunhandledrejection=function(e){return se("unhandledrejection",e),!(me&&!me.__SENTRY_LOADER__)||me.apply(this,arguments)},ee.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("unknown instrumentation type:",e))}}function ie(e,t){ne[e]=ne[e]||[],ne[e].push(t),oe(e)}function se(e,t){if(e&&ne[e])for(const n of ne[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${W(n)}\nError:`,t)}}function ae(e,t){return!!e&&"object"==typeof e&&!!e[t]}function ce(e){return"string"==typeof e?e:e?ae(e,"url")?e.url:e.toString?e.toString():"":""}let ue;const de=1e3;let le,fe;function pe(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n))return;P(n,"_sentryCaptured",!0);const r="keypress"===n.type?"input":n.type;void 0!==fe&&function(e,t){if(e.type!==t.type)return!1;try{if(e.target!==t.target)return!1}catch(e){}return!0}(fe,n)||(e({event:n,name:r,global:t}),fe=n),clearTimeout(le),le=ee.setTimeout(()=>{fe=void 0},de)}}let he=null;let me=null;function ge(){const e=x,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>t.getRandomValues(new Uint8Array(1))[0])}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function _e(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ye(e){const{message:t,event_id:n}=e;if(t)return t;const r=_e(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ve(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ee(e,t){const n=_e(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function xe(e){if(e&&e.__sentry_captured__)return!0;try{P(e,"__sentry_captured__",!0)}catch(e){}return!1}function Se(e){return Array.isArray(e)?e:[e]}function we(e,t=100,n=1/0){try{return Te("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function be(e,t=3,n=102400){const r=we(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?be(e,t-1,n):r;var o}function Te(e,t,n=1/0,r=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,s]=o;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(c=t)||c==c))return t;var c;const u=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(l(t))return"[VueViewModel]";if(function(e){return a(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${W(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;const d="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===d)return u.replace("object ","");if(i(t))return"[Circular ~]";const f=t;if(f&&"function"==typeof f.toJSON)try{return Te("",f.toJSON(),d-1,r,o)}catch(e){}const p=Array.isArray(t)?[]:{};let h=0;const m=j(t);for(const e in m){if(!Object.prototype.hasOwnProperty.call(m,e))continue;if(h>=r){p[e]="[MaxProperties ~]";break}const t=m[e];p[e]=Te(e,t,d-1,r,o),h++}return s(t),p}var ke;function Ie(e){return new De(t=>{t(e)})}function Re(e){return new De((t,n)=>{n(e)})}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(ke||(ke={}));class De{constructor(e){De.prototype.__init.call(this),De.prototype.__init2.call(this),De.prototype.__init3.call(this),De.prototype.__init4.call(this),this._state=ke.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new De((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new De((t,n)=>{let r,o;return this.then(t=>{o=!1,r=t,e&&e()},t=>{o=!0,r=t,e&&e()}).then(()=>{o?n(r):t(r)})})}__init(){this._resolve=e=>{this._setResult(ke.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ke.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===ke.PENDING&&(u(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ke.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===ke.RESOLVED&&e[1](this._value),this._state===ke.REJECTED&&e[2](this._value),e[0]=!0)})}}}function Ce(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Re(new L("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then(()=>n(o)).then(null,()=>n(o).then(null,()=>{})),o},drain:function(e){return new De((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{Ie(e).then(()=>{--o||(clearTimeout(i),n(!0))},r)})})}}}function Ne(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Oe=["fatal","error","warning","log","info","debug"];const Be=S(),Ae={nowSeconds:()=>Date.now()/1e3};const Le="undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__||"[object process]"!==Object.prototype.toString.call("undefined"!=typeof process?process:0)?function(){const{performance:e}=Be;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}():function(){try{return(e=module,t="perf_hooks",e.require(t)).performance}catch(e){return}var e,t}(),$e=void 0===Le?Ae:{nowSeconds:()=>(Le.timeOrigin+Le.now())/1e3},Pe=Ae.nowSeconds.bind(Ae),Ue=$e.nowSeconds.bind($e);function Me(e,t=[]){return[e,t]}function je(e,t){const[n,r]=e;return[n,[...r,t]]}function Ge(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Ye(e,t){return(t||new TextEncoder).encode(e)}function Fe(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[Ye(o,t),e]:o.push("string"==typeof e?Ye(e,t):e)}for(const e of r){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(we(n))}i(e)}}return"string"==typeof o?o:function(e){const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function qe(e,t){const n="string"==typeof e.data?Ye(e.data,t):e.data;return[F({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(()=>{const{performance:e}=Be;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,a="number"==typeof s?Math.abs(s+n-r):t;(i||a<t)&&(o<=a&&e.timeOrigin)})();const He={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function ze(e){return He[e]}function Ke(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ve(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n]=e.split(":",2),i=parseInt(t,10),s=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))o[e]=r+s;else o.all=r+s}else s?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(o.all=r+6e4);return o}const We="production";function Je(){return w("globalEventProcessors",()=>[])}function Xe(e){Je().push(e)}function Ze(e,t,n,r=0){return new De((o,i)=>{const s=e[r];if(null===t||"function"!=typeof s)o(t);else{const a=s({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.id&&null===a&&C.log(`Event processor "${s.id}" dropped event`),u(a)?a.then(t=>Ze(e,t,n,r+1).then(o)).then(null,i):Ze(e,a,n,r+1).then(o).then(null,i)}})}function Qe(e){const t=Ue(),n={sid:ge(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return F({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&et(n,e),n}function et(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ue(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ge()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class tt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=nt()}static clone(e){const t=new tt;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata},t._propagationContext={...e._propagationContext}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&et(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof tt?t:this}return e instanceof tt?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):a(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=nt(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:Pe(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={},n){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const n=t.name;n&&(e.tags={transaction:n,...e.tags})}}this._applyFingerprint(e);const r=this._getBreadcrumbs(),o=[...e.breadcrumbs||[],...r];return e.breadcrumbs=o.length>0?o:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},Ze([...n||[],...Je(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Se(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function nt(){return{traceId:ge(),spanId:ge().substring(16)}}const rt=100;class ot{constructor(e,t=new tt,n=4){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=tt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:ge(),r=new Error("Sentry syntheticException");return this._withClient((o,i)=>{o.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},i)}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:ge(),o=new Error(e);return this._withClient((i,s)=>{i.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},s)}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ge();return e.type||(this._lastEventId=n),this._withClient((r,o)=>{r.captureEvent(e,{...t,event_id:n},o)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=rt}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const s={timestamp:Pe(),...e},a=o?D(()=>o(s,t)):s;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,i))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=st(this);try{e(this)}finally{st(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&!n){this.getClient()?console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):console.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),et(e,t)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=We}=n&&n.getOptions()||{},{userAgent:i}=x.navigator||{},s=Qe({release:r,environment:o,user:t.getUser(),...i&&{userAgent:i},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&et(a,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=it().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function it(){return x.__SENTRY__=x.__SENTRY__||{extensions:{},hub:void 0},x}function st(e){const t=it(),n=ct(t);return ut(t,e),n}function at(){const e=it();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=it()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!ct(e).isOlderThan(4)||ut(e,new ot);var t;return ct(e)}(e)}function ct(e){return w("hub",()=>new ot,e)}function ut(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function dt(e,t){return at().captureException(e,{captureContext:t})}function lt(e,t){return at().captureEvent(e,t)}function ft(e,t){at().setTag(e,t)}function pt(e){at().withScope(e)}function ht(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&");var n}function mt(e,t,n,r){const o=Ke(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:O(r)},...o&&{trace:F({...o})}}}(e,o,r,t);delete e.sdkProcessingMetadata;return Me(s,[[{type:i},e]])}const gt=[];function _t(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach(e=>{e.isDefaultInstance=!0}),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Se(n(t)):t;const o=function(e){const t={};return e.forEach(e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.keys(t).map(e=>t[e])}(r),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,e=>"Debug"===e.name);if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function yt(e,t,n){if(n[t.name]=t,-1===gt.indexOf(t.name)&&(t.setupOnce(Xe,at),gt.push(t.name)),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log(`Integration installed: ${t.name}`)}function vt(e,t,n,r,o){const{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=e,a={...t,event_id:t.event_id||n.event_id||ge(),timestamp:t.timestamp||Pe()},c=n.integrations||e.integrations.map(e=>e.name);!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:We);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=f(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=f(s.value,i));const a=e.request;a&&a.url&&(a.url=f(a.url,i))}(a,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(a,c),void 0===t.type&&function(e,t){const n=x._sentryDebugIds;if(!n)return;let r;const o=Et.get(t);o?r=o:(r=new Map,Et.set(t,r));const i=Object.keys(n).reduce((e,o)=>{let i;const s=r.get(o);s?i=s:(i=t(o),r.set(o,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[o];break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=i[e.filename])})})}catch(e){}}(a,e.stackParser);let u=r;n.captureContext&&(u=tt.clone(u).update(n.captureContext));let d=Ie(a);const l=o&&o.getEventProcessors?o.getEventProcessors():[];if(u){if(u.getAttachments){const e=[...n.attachments||[],...u.getAttachments()];e.length&&(n.attachments=e)}d=u.applyToEvent(a,n,l)}else d=Ze([...l,...Je()],a,n);return d.then(e=>(e&&function(e){const t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})})}(e),"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:we(e.data,t,n)}}))},...e.user&&{user:we(e.user,t,n)},...e.contexts&&{contexts:we(e.contexts,t,n)},...e.extra&&{extra:we(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=we(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>(e.data&&(e.data=we(e.data,t,n)),e)));return r}(e,i,s):e))}const Et=new WeakMap;const xt="Not capturing exception because it's already been captured.";class St{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=A(e.dsn):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${ht(e,r)}`}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(xe(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log(xt));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then(e=>this._captureEvent(e,t,n)).then(e=>{r=e})),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=s(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(i.then(e=>this._captureEvent(e,n,r)).then(e=>{o=e})),o}captureEvent(e,t,n){if(t&&t.originalException&&xe(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log(xt));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then(e=>{r=e})),r}captureSession(e){"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),et(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e)):Ie(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(e,t){const n={};return t.forEach(t=>{t&&yt(e,t,n)}),n}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){yt(this,e,this._integrations)}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=mt(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=je(n,qe(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){const t=function(e,t,n,r){const o=Ke(n);return Me({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:O(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(e=>e(...t))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(et(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new De(t=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n){const r=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),vt(r,e,t,n,this).then(e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:i,dsc:s}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:i},...e.contexts};const a=s||function(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},s=F({environment:r.environment||We,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",s),s}(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?C.log(t.message):C.warn(t)}})}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=bt(e),s=wt(e),c=e.type||"error",d=`before send for type \`${c}\``;if(s&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),Re(new L(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===c?"replay":c;return this._prepareEvent(e,t,n).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new L("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(wt(t)&&r)return r(t,n);if(bt(t)&&o)return o(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(u(e))return e.then(e=>{if(!a(e)&&null!==e)throw new L(n);return e},e=>{throw new L(`${t} rejected with ${e}`)});if(!a(e)&&null!==e)throw new L(n);return e}(o,d)}).then(r=>{if(null===r)throw this.recordDroppedEvent("before_send",l,e),new L(`${d} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!i&&o&&this._updateSessionFromEvent(o,r);const s=r.transaction_info;if(i&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof L)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new L(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.error("Error while sending event:",e)});("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}})}}function wt(e){return void 0===e.type}function bt(e){return"transaction"===e.type}function Tt(e,t,n=Ce(e.bufferSize||30)){let r={};function o(o){const i=[];if(Ge(o,(t,n)=>{const o=ze(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,o)){const r=kt(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)}),0===i.length)return Ie();const s=Me(o[0],i),a=t=>{Ge(s,(n,r)=>{const o=kt(n,r);e.recordDroppedEvent(t,ze(r),o)})};return n.add(()=>t({body:Fe(s,e.textEncoder)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Ve(r,e),e),e=>{throw a("network_error"),e})).then(e=>e,e=>{if(e instanceof L)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.error("Skipped sending event because buffer is full."),a("queue_overflow"),Ie();throw e})}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function kt(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const It="7.74.1";let Rt;class Dt{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=Dt.id}setupOnce(){Rt=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=M(this)||this;return Rt.apply(t,e)}}catch(e){}}}Dt.__initStatic();const Ct=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Nt=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class Ot{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=Ot.id,this._options=e}setupOnce(e,t){}processEvent(e,t,n){const r=n.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Ct],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Nt],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(this._options,r);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${ye(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||0!==t.length||C.error(`Could not extract message for event ${ye(e)}`);return t}(e).some(e=>m(e,t))}(e,t.ignoreErrors))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${ye(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&m(n,t)}(e,t.ignoreTransactions))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${ye(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Bt(e);return!!n&&m(n,t)}(e,t.denyUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${ye(e)}.\nUrl: ${Bt(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Bt(e);return!n||m(n,t)}(e,t.allowUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${ye(e)}.\nUrl: ${Bt(e)}`),!0;return!1}(e,o)?null:e}}function Bt(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.error(`Cannot extract url for event ${ye(e)}`),null}}Ot.__initStatic();const At=x;let Lt=0;function $t(){return Lt>0}function Pt(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(M(e))return e}catch(t){return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map(e=>Pt(e,t));return e.apply(this,r)}catch(e){throw Lt++,setTimeout(()=>{Lt--}),pt(r=>{r.addEventProcessor(e=>(t.mechanism&&(ve(e,void 0),Ee(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),dt(e)}),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}U(r,e),P(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}function Ut(e,t){const n=jt(e,t),r={type:t&&t.name,value:Yt(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Mt(e,t){return{exception:{values:[Ut(e,t)]}}}function jt(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Gt.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Gt=/Minified React error #\d+;/i;function Yt(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Ft(e,t,n,r){const o=qt(e,t,n&&n.syntheticException||void 0,r);return Ee(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ie(o)}function qt(e,i,s,u,d){let l;if(r(i)&&i.error){return Mt(e,i.error)}if(o(i)||n(i,"DOMException")){const t=i;if("stack"in i)l=Mt(e,i);else{const n=t.name||(o(t)?"DOMError":"DOMException"),r=t.message?`${n}: ${t.message}`:n;l=Ht(e,r,s,u),ve(l,r)}return"code"in t&&(l.tags={...l.tags,"DOMException.code":`${t.code}`}),l}if(t(i))return Mt(e,i);if(a(i)||c(i)){return l=function(e,t,n,r){const o=at().getClient(),i=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:c(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:zt(t,{isUnhandledRejection:r})}]},extra:{__serialized__:be(t,i)}};if(n){const t=jt(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,i,s,d),Ee(l,{synthetic:!0}),l}return l=Ht(e,i,s,u),ve(l,`${i}`),Ee(l,{synthetic:!0}),l}function Ht(e,t,n,r){const o={message:t};if(r&&n){const r=jt(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}return o}function zt(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(j(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return f(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:f(r,t)}return""}(e),o=t?"promise rejection":"exception";if(r(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if(c(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${n}`}class Kt extends St{constructor(e){const t=At.SENTRY_SDK_SOURCE||"npm";e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:It}],version:It},super(e),e.sendClientReports&&At.document&&At.document.addEventListener("visibilitychange",()=>{"hidden"===At.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return Ft(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,o){const i=Ht(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Ie(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:O(r)}},i=function(e){return[{type:"user_report"},e]}(e);return Me(o,[i])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log("Sending outcomes:",e);const t=(n=e,Me((r=this._options.tunnel&&O(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:Pe(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}let Vt;function Wt(e,t=function(){if(Vt)return Vt;if(Z(At.fetch))return Vt=At.fetch.bind(At);const e=At.document;let t=At.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Vt=t.bind(At)}()){let n=0,r=0;return Tt(e,function(o){const i=o.body.length;n+=i,r++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,s).then(e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return Vt=void 0,n-=i,r--,Re(e)}})}function Jt(e){return Tt(e,function(t){return new De((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)})})}const Xt="?";function Zt(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Qt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,en=/\((\S*)(?::(\d+))(?::(\d+))\)/,tn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,nn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rn=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,on=K(...[[30,e=>{const t=Qt.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=en.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=sn(t[1]||Xt,t[2]);return Zt(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=tn.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=nn.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Xt;return[n,e]=sn(n,e),Zt(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=rn.exec(e);return t?Zt(t[2],t[1]||Xt,+t[3],t[4]?+t[4]:void 0):void 0}]]),sn=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Xt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class an{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=an.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:cn,onunhandledrejection:un}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const t in e){const n=this._installFunc[t];n&&e[t]&&(ln(t),n(),this._installFunc[t]=void 0)}}}function cn(){ie("error",e=>{const[t,n,o]=pn();if(!t.getIntegration(an))return;const{msg:s,url:a,line:c,column:u,error:d}=e;if($t()||d&&d.__sentry_own_request__)return;const l=void 0===d&&i(s)?function(e,t,n,o){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=r(e)?e.message:e,a="Error";const c=s.match(i);c&&(a=c[1],s=c[2]);const u={exception:{values:[{type:a,value:s}]}};return dn(u,t,n,o)}(s,a,c,u):dn(qt(n,d||s,void 0,o,!1),a,c,u);l.level="error",fn(t,d,l,"onerror")})}function un(){ie("unhandledrejection",e=>{const[t,n,r]=pn();if(!t.getIntegration(an))return;let o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch(e){}if($t()||o&&o.__sentry_own_request__)return!0;const i=s(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:qt(n,o,void 0,r,!0);i.level="error",fn(t,o,i,"onunhandledrejection")})}function dn(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{},c=a.stacktrace=a.stacktrace||{},u=c.frames=c.frames||[],d=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,f=i(t)&&t.length>0?t:function(){try{return b.document.location.href}catch(e){return""}}();return 0===u.length&&u.push({colno:d,filename:f,function:"?",in_app:!0,lineno:l}),e}function ln(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.log(`Global Handler attached: ${e}`)}function fn(e,t,n,r){Ee(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function pn(){const e=at(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}an.__initStatic();const hn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class mn{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=mn.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&$(At,"setTimeout",gn),this._options.setInterval&&$(At,"setInterval",gn),this._options.requestAnimationFrame&&$(At,"requestAnimationFrame",_n),this._options.XMLHttpRequest&&"XMLHttpRequest"in At&&$(XMLHttpRequest.prototype,"send",yn);const e=this._options.eventTarget;if(e){(Array.isArray(e)?e:hn).forEach(vn)}}}function gn(e){return function(...t){const n=t[0];return t[0]=Pt(n,{mechanism:{data:{function:W(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function _n(e){return function(t){return e.apply(this,[Pt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:W(e)},handled:!1,type:"instrument"}})])}}function yn(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&$(n,e,function(t){const n={mechanism:{data:{function:e,handler:W(t)},handled:!1,type:"instrument"}},r=M(t);return r&&(n.mechanism.data.handler=W(r)),Pt(t,n)})}),e.apply(this,t)}}function vn(e){const t=At,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&($(n,"addEventListener",function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Pt(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:W(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Pt(r,{mechanism:{data:{function:"addEventListener",handler:W(r),target:e},handled:!1,type:"instrument"}}),o])}}),$(n,"removeEventListener",function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}}))}mn.__initStatic();const En=1024;class xn{static __initStatic(){this.id="Breadcrumbs"}constructor(e){this.name=xn.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){if(this.options.console&&ie("console",wn),this.options.dom&&ie("dom",function(e){function t(t){let n,r="object"==typeof e?e.serializeAttribute:void 0,o="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;o&&o>En&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=En),"string"==typeof r&&(r=[r]);try{const e=t.event;n=function(e){return!!e&&!!e.target}(e)?T(e.target,{keyAttrs:r,maxStringLength:o}):T(e,{keyAttrs:r,maxStringLength:o})}catch(e){n="<unknown>"}0!==n.length&&at().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&ie("xhr",bn),this.options.fetch&&ie("fetch",Tn),this.options.history&&ie("history",kn),this.options.sentry){const e=at().getClient();e&&e.on&&e.on("beforeSendEvent",Sn)}}}function Sn(e){at().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:ye(e)},{event:e})}function wn(e){const t={category:"console",data:{arguments:e.args,logger:"console"},level:(n=e.level,"warn"===n?"warning":Oe.includes(n)?n:"log"),message:p(e.args," ")};var n;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${p(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}at().addBreadcrumb(t,{input:e.args,level:e.level})}function bn(e){const{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[te];if(!t||!n||!r)return;const{method:o,url:i,status_code:s,body:a}=r,c={method:o,url:i,status_code:s},u={xhr:e.xhr,input:a,startTimestamp:t,endTimestamp:n};at().addBreadcrumb({category:"xhr",data:c,type:"http"},u)}function Tn(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const r=e.fetchData,o={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};at().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},o)}else{const r={...e.fetchData,status_code:e.response&&e.response.status},o={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};at().addBreadcrumb({category:"fetch",data:r,type:"http"},o)}}function kn(e){let t=e.from,n=e.to;const r=Ne(At.location.href);let o=Ne(t);const i=Ne(n);o.path||(o=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===o.protocol&&r.host===o.host&&(t=o.relative),at().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}xn.__initStatic();class In{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=In.id,this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){}preprocessEvent(e,t,n){const r=n.getOptions();g(Ut,r.stackParser,r.maxValueLength,this._key,this._limit,e,t)}}In.__initStatic();class Rn{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Rn.id}setupOnce(){}preprocessEvent(e){if(!At.navigator&&!At.location&&!At.document)return;const t=e.request&&e.request.url||At.location&&At.location.href,{referrer:n}=At.document||{},{userAgent:r}=At.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}}Rn.__initStatic();class Dn{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Dn.id}setupOnce(e,t){}processEvent(e){if(e.type)return e;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Nn(e,t))return!1;if(!Cn(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=On(t),r=On(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Nn(e,t))return!1;if(!Cn(e,t))return!1;return!0}(e,t))return!0;return!1}(e,this._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return this._previousEvent=e}}function Cn(e,t){let n=Bn(e),r=Bn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function Nn(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function On(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Bn(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Dn.__initStatic();const An=[new Ot,new Dt,new mn,new xn,new an,new In,new Dn,new Rn];function Ln(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=An),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),At.SENTRY_RELEASE&&At.SENTRY_RELEASE.id&&(e.release=At.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||on,Array.isArray(n)?K(...n):n),integrations:_t(e),transport:e.transport||(X()?Wt:Jt)};var n;!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?C.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=at();n.getScope().update(t.initialScope);const r=new e(t);n.bindClient(r)}(Kt,t),e.autoSessionTracking&&function(){if(void 0===At.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=at();if(!e.captureSession)return;$n(e),ie("history",({from:e,to:t})=>{void 0!==e&&e!==t&&$n(at())})}()}function $n(e){e.startSession({ignoreDuration:!0}),e.captureSession()}const Pn=6e4,Un=["/quotedPrice","priapi/v1/wallet/gas/multi-gas-price","/apmfe/api/","/amplitude","/umd/web/metric/v1"],Mn=window?.location?.host||"",jn=window?.location?.port||"";Mn?.includes("localhost")||Mn?.includes("dev.local")||Mn?.includes("local:8443")||Mn?.includes("127.0.0.1")&&["16801","13861","15562"].includes(jn);let Gn=[];const Yn=new Map;function Fn(){try{return JSON.parse(JSON.stringify(Gn))}catch(e){return console.warn(`@ok/sentry error: getCache ${e}`),[]}}function qn(){Gn.length=0,Gn=[]}function Hn(e){let t="";return Yn.size>0&&Yn?.forEach?.((n,r)=>{if(n&&r&&(!e||e===r)){const e=function(e){const t=e[0],n=[];return e?.forEach?.(e=>{e?.body&&n.push(e.body)}),{...t,body:JSON.stringify(n)}}(n);if(e?.body)try{return function(e){Yn.delete(e)}(r),e.body.length>=64e3&&(e.keepalive=!1),t=fetch(r,e).catch(()=>null),t}catch(e){return console.error("sentry batchReport error",e),null}}return null}),t}const zn="__not_first_visit__",Kn=["token","phone","phonenumber","mobile","cell","cellphone","email","secret","ssn","pwd","pass","jwt","auth","cookie","sign","accessid","accesskey","access_key","sessionid"],Vn=(e="")=>`[-REDACTED-${e}]`,Wn=[{urlRule:/\/token(-\w+)?\//gi,ignoreRegKey:"authorization"}],Jn=[{reg:/\w{0,20}(token|auth|jwt)[\w\-.$/]{0,20}(?:[=:\s]\s*["']?)?[^\s"'&\n]{1,1000}/gi,keyString:"authorization"},{reg:/\w{0,20}sign[\w\-.$/]{0,20}(?:[=:\s]\s*["']?)?[^\s"'&\n]{1,1000}/gi,keyString:"sign"},{reg:/\w{0,20}(accessid|accesskey|access_key|secret)[\w\-.$/]{0,20}(?:[=:\s]\s*["']?)?[^\s"'&\n]{1,1000}/gi,keyString:"secretKey"},{reg:/\w{0,20}sessionid[\w\-.$/]{0,20}(?:[=:\s]\s*["']?)?[^\s"'&\n]{1,1000}/gi,keyString:"sessionId"},{filter:e=>e.replace(/1[3-9]\d{9}/g,(e,t,n)=>{const r=n[t-1],o=n[t+e.length];return void 0!==r&&/\d/.test(r)||void 0!==o&&/\d/.test(o)?e:Vn("phone")}),reg:/1[3-9]\d{9}/g,keyString:"phone"},{reg:/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/gi,keyString:"email"},{reg:/\d{6}(18|19|20)\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)/gi,keyString:"identificationNumber"},{reg:/eyJ[A-Za-z0-9_=-]+\.[A-Za-z0-9_=-]+\.[A-Za-z0-9_=-]+/gi,keyString:"tokenValueStandard"}],Xn=["channelId"],Zn=["customConfig","event_id","traceId","trace_id","span_id","timestamp","urlKey"],Qn={isInner:!1,resourceSamplingRate:.01,apiThreshold:2e3,debug:!1,sanitizeRules:[],hideBreadcrumb:!0,noDefaultReport:!1,queryWhiteList:[],firstVisit:!1,devId:"",enableLongTask:!1,longTaskDurationThreshold:100};function er(e){return null==e||""===e}function tr(e){for(const t in Qn)er(e[t])||(Qn[t]=e[t])}const nr=(e,t={})=>{const n=e,r=t.customConfig||t.captureContext?.customConfig||e.customConfig;return n.customConfig=r,n},rr=e=>({...Qn,...e||{}}),or="project_key",ir=e=>{const t=new Map,n=new Map,r=[];return Kn.forEach(e=>{t.set(e,{illegalKey:e,placeholder:Vn(e)})}),Jn.forEach(e=>{n.set(e.keyString,{illegalValueReg:e.reg,placeholder:Vn(e.keyString),keyString:e.keyString,filter:e.filter})}),e.forEach(e=>{if("regExp"===e.type){const t=(e=>{try{return e?new RegExp(e.source,e.flags||"gi"):e}catch(t){return e}})(e.rule);t instanceof RegExp&&n.set(e.rule,{illegalValueReg:t,placeholder:e.placeholder})}else t.set(e.rule,{illegalKey:e.rule,placeholder:e.placeholder})}),Array.from(t.values()).forEach(e=>{r.push(e)}),Array.from(n.values()).forEach(e=>{r.push(e)}),r};function sr(e,t){const n=e,r=(o=t.sanitizeRules,ir(o.slice(0,10)));var o;const i=((e=[])=>[...new Set([...Xn,...e])])(t.queryWhiteList),s=/(https?:\/\/|wss?:\/\/)[^\s/$.?#].[^\s^^]*/g,a=/^\s*[{[]/,c=new Set,u=[];function d(e=""){let t=e;try{const n=e.match(s);return n?(n.forEach(e=>{const n=function(e){try{const t=new URL(e),n=new URLSearchParams(t.search)||{},r={};return Array.from(n).forEach(([e,t])=>{i.includes(e)?r[e]=t:r[e]=Vn(e)}),r}catch(e){return null}}(e),r=new URL(e);r.search=new URLSearchParams(n||{}).toString();const o=r.toString().replace(/\/\?/g,"?");t=t.replace(e,o)}),t):t}catch(e){return"[sanitize error]"}}return r.forEach(e=>{e.illegalKey&&c.add(e.illegalKey.toLowerCase()),e.illegalValueReg&&u.push({reg:e.illegalValueReg,placeholder:e.placeholder||Vn(""),keyString:e.keyString,filter:e.filter})}),function e(t,n){if(Array.isArray(t))return t.map(t=>e(t,n));if("object"==typeof t&&null!==t)return Object.entries(t).forEach(([n,o])=>{if(Zn.includes(n))return;if(Array.from(c).some(e=>n.toLowerCase().includes(e))){const e=r.find(e=>e.illegalKey&&n.toLowerCase().includes(e.illegalKey));return void(e&&(t[n]=e.placeholder||Vn(e.illegalKey||"")))}("string"==typeof o||"object"==typeof o&&null!==o)&&(t[n]=e(o,n))}),t;if("string"==typeof t){if(a.test(t))try{const r=JSON.parse(t);if("object"==typeof r&&null!==r)return JSON.stringify(e(r,n))}catch(e){}return function(e,t){let n=d(e);return u.forEach(e=>{"url"===t&&e.keyString&&Wn.some(t=>{const r=t.ignoreRegKey===e.keyString,o=t.urlRule.test(n);return r&&o})||(n=e.filter?e.filter(n):n.replace(e.reg,e.placeholder))}),n}(t,n)}return t}(n)}const ar=e=>{if(!e||"string"!=typeof e)return e;let t,n="";return e.split("\n").forEach((e,r,o)=>{let i={};try{const n=(e=>{if(!e)return e;const t=rr(e?.customConfig),n=performance.now(),r=sr(e,t),o=performance.now()-n;return r?.event_id&&(r.extra=r.extra||{},r.extra.sanitizeDuration=o.toFixed(2)),r})(JSON.parse(e));if(n.extra=n.extra||{},n?.customConfig&&(t=n?.customConfig,delete n.customConfig,n?.contexts?.report?.info))try{const e=JSON.parse(n?.contexts?.report?.info);e.customConfig&&(delete e.customConfig,n.contexts.report.info=JSON.stringify(e))}catch(e){console.log("formatBody customConfig error ",e)}i=JSON.stringify(n)}catch(e){console.warn("[APMFE-SDK]formatBody processing failed:",e),i='{"error":"[APMFE-SDK] processing_failed_data_sanitized","errorType":"complete_processing_failure"}'}n+=i,r<o.length-1&&(n+="\n")}),{body:n,customConfig:t}},cr=[{id:14,name:"/okfe/balance/",token:"90e92d576a744c048ef079540615e419"},{id:25,name:"/okfe/comb-trade/",token:"efc986e8cd9d46ae9aa1f455b6b0f383"},{id:32,name:"/okfe/defi-mode/",token:"78f39293a21b49f58a46fc3df0ae616c"},{id:35,name:"/okfe/p2p/",token:"a7469d35150046bcbf1f2827e2887018"},{id:36,name:"/okexchain/universe-swap/",token:"5402db24f78847a8bde4df03b259f3cc"},{id:64,name:"/okfe/invest/",token:"dd5871697f6c478d833bae9428428263"},{id:136,name:"/okfe/expressway/",token:"c3feecac5a4efc5c4f2340a1534da3ce"},{id:196,name:"/okfe/customer-service/",token:"b20d9b91c29b9810e01d642cc8b2abc1"},{id:160,name:"/okfe/okx-nav/",token:"b32011805ecf66fdb148c22d63d2803d"},{id:69,name:"/okfe/candle-chart/",token:"ad8c06d24d7743d087173c3fff709fce"},{id:206,name:"/okfe/util/ont/",token:"77d51bf92a0501485bb541a2ec96517e"},{id:243,name:"/okfe/blade/",token:"2b65098fbd898b1419f8241753fbf146"},{id:248,name:"/okfe/im/",token:"0ba2c9f7c7917cb7c389fe5b1c79421a"},{id:165,name:"/okfe/connect-wallet/",token:"c57f445fd36ea4f439759014079bfee0"},{id:18,name:"/okfe/login/",token:"d63da6573d084d69ba760cd9a8491df2"}],ur=e=>{try{const t=JSON.parse(e),{id:n,token:r}=t.customConfig?.project||{};if(n&&r)return{id:n,token:r};const o=function(e){try{if(!e||"string"==typeof e)return[];return e.exception.values[0].stacktrace.frames.map(e=>e.filename).reverse()}catch(e){return[]}}(t),i=function(e){for(const t of e)for(const e of cr){const n=e.name;if(t.indexOf(n)>=0)return e}}(o);return i||null}catch(e){return console.error(e),null}};function dr(){try{const e=at().getClient(),t=Object.keys(e);for(const n of t)if(e[n]&&e[n].projectId)return e[n].projectId;return""}catch(e){return""}}const lr=new Response("",{status:200,statusText:"OK",headers:{"Content-Type":"application/json"}}),fr=new Map,pr=new Map;function hr(e){return Wt({...e,headers:{...e.headers,"content-type":"application/json;charset=UTF-8"},fetchOptions:{...e.fetchOptions,priority:"low"}},async(e,t)=>{try{const n=function(e,t){const n=new URL(e),r=new URLSearchParams(n.search.slice(1)),o=new URLSearchParams({[or]:r.get("sentry_key")}),i=n.pathname.replace("/envelope","/batch/envelope"),s=`${n.origin}${i}?${o.toString()}`;try{const e=(t?.body||"").split("\n")[2]||"",n=dr(),r=ur(e);if(!n||!r)return{requestUrl:s,options:t};const o=new URL(s),i=new URLSearchParams(o.search.slice(1));i.set(or,r.token);const a=o.pathname.replace(`/${n}/`,`/${r.id}/`),c=i.toString();return{requestUrl:`${o.origin}${a}?${c}`,options:t}}catch(e){return{requestUrl:s,options:t}}}(e,t),r=n.requestUrl;if(n.options&&r){const{body:e,customConfig:t}=ar(n.options.body),o=(pr.get(r)||0)+e.length;pr.set(r,o),n.options.body=e,function(e,t){t&&e&&(Yn.has(t)?Yn.set(t,Yn.get(t).concat(e)):Yn.set(t,[e]))}(n.options,r),clearTimeout(fr.get(r));const i=function(e){return Yn.get(e)}(r);return i?.length?i.length<10&&!t?.flush_report&&o<51200?(fr.set(r,setTimeout(()=>{pr.delete(r),fr.delete(r),Hn(r)},1e4)),lr):(pr.delete(r),fr.delete(r),Hn(r)||lr):lr}return lr}catch(e){return lr}})}var mr="1.1.78";const gr=2147483647;let _r=(()=>{const e=Date.now(),t="undefined"!=typeof performance?performance.now():0;return(e+9301*Math.floor(1e4*t))%gr||1})();function yr(){return _r=16807*_r%gr,_r/gr}const vr=[{name:"IE",regex:/(?:MSIE\s([0-9._]+)|Trident.*rv:([0-9._]+))/i,versionIndex:[1,2]},{name:"IEMobile",regex:/IEMobile\/([0-9._]+)/i,versionIndex:1},{name:"Opera",regex:/OPR\/([0-9._]+)/i,versionIndex:1},{name:"Edge",regex:/(?:Edge|Edg|EdgA)\/([0-9._]+)/i,versionIndex:1},{name:"WeChat",regex:/MicroMessenger\/([0-9._]+)/i,versionIndex:1},{name:"Chrome WebView",regex:/(?:wv|WebView).*Chrome\/([0-9._]+)/i,versionIndex:1},{name:"Chrome WebView",regex:/OKEx-[^/]+\/[0-9._]+.*Chrome\/([0-9._]+)/i,versionIndex:1},{name:"Sogou Explorer",regex:/Chrome\/[0-9._]+.*SE [0-9.X]+ MetaSr ([0-9._]+)/i,versionIndex:1},{name:"Chrome",regex:/Chrome\/([0-9._]+).*Lark\/[0-9._]+/i,versionIndex:1},{name:"Electron",regex:/OKX\/[0-9._]+.*Chrome\/[0-9._]+.*Electron\/([0-9._]+)/i,versionIndex:1},{name:"Electron",regex:/Electron\/([0-9._]+)/i,versionIndex:1},{name:"Quark",regex:/Chrome\/([0-9._]+).*QuarkPC\/[0-9._]+/i,versionIndex:1},{name:"Vivo Browser",regex:/Chrome\/[0-9._]+.*VivoBrowser\/([0-9._]+)/i,versionIndex:1},{name:"Huawei Browser",regex:/Chrome\/[0-9._]+.*HuaweiBrowser\/([0-9._]+)/i,versionIndex:1},{name:"MIUI Browser",regex:/Chrome\/[0-9._]+.*MiuiBrowser\/([0-9._]+)/i,versionIndex:1},{name:"Baidu Browser",regex:/(?:BaiduBrowser|baidubrowser)\/([0-9._]+)/i,versionIndex:1},{name:"360",regex:/(?:360SE|360EE|QHBrowser)\/([0-9._]+)/i,versionIndex:1},{name:"2345",regex:/2345Explorer\/([0-9._]+)/i,versionIndex:1},{name:"Maxthon",regex:/Maxthon\/([0-9._]+)/i,versionIndex:1},{name:"Vivaldi",regex:/Vivaldi\/([0-9._]+)/i,versionIndex:1},{name:"Brave",regex:/Chrome\/[0-9._]+.*Brave\/([0-9._]+)/i,versionIndex:1},{name:"Alipay",regex:/AlipayClient\/([0-9._]+)/i,versionIndex:1},{name:"DuckDuckGo",regex:/DuckDuckGo\/([0-9._]+)/i,versionIndex:1},{name:"TikTok",regex:/musical_ly\/([0-9._]+)/i,versionIndex:1},{name:"Instagram",regex:/Instagram\/([0-9._]+)/i,versionIndex:1},{name:"Facebook",regex:/FBAN\/[^;]*;.*FBAV\/([0-9._]+)/i,versionIndex:1},{name:"Twitter",regex:/TwitterAndroid\/([0-9._]+)/i,versionIndex:1},{name:"LinkedIn",regex:/LinkedInApp\/([0-9._]+)/i,versionIndex:1},{name:"Snapchat",regex:/Snapchat\/([0-9._]+)/i,versionIndex:1},{name:"QQBrowser",regex:/(?:QQBrowser|MQQBrowser)\/([0-9._]+)/i,versionIndex:1},{name:"UCBrowser",regex:/UCBrowser\/([0-9._]+)/i,versionIndex:1},{name:"Yandex",regex:/YaBrowser\/([0-9._]+)/i,versionIndex:1},{name:"Whale",regex:/Whale\/([0-9._]+)/i,versionIndex:1},{name:"Puffin",regex:/Puffin\/([0-9._]+)/i,versionIndex:1},{name:"Sleipnir",regex:/Sleipnir\/([0-9._]+)/i,versionIndex:1},{name:"Silk",regex:/Silk\/([0-9._]+)/i,versionIndex:1},{name:"Tizen Browser",regex:/SamsungBrowser\/[0-9._]+.*Tizen\/([0-9._]+)/i,versionIndex:1},{name:"LG Browser",regex:/LGBrowser\/([0-9._]+)/i,versionIndex:1},{name:"Nokia Browser",regex:/NokiaBrowser\/([0-9._]+)/i,versionIndex:1},{name:"Dolphin",regex:/Dolphin\/([0-9._]+)/i,versionIndex:1},{name:"Ecosia",regex:/Ecosia\/([0-9._]+)/i,versionIndex:1},{name:"Coc Coc",regex:/coc_coc_browser\/([0-9._]+)/i,versionIndex:1},{name:"Falkon",regex:/Falkon\/([0-9._]+)/i,versionIndex:1},{name:"Waterfox",regex:/Waterfox\/([0-9._]+)/i,versionIndex:1},{name:"LibreWolf",regex:/LibreWolf\/([0-9._]+)/i,versionIndex:1},{name:"Safari",regex:/Orbita\/([0-9._]+)/i,versionIndex:1},{name:"Samsung Internet",regex:/SamsungBrowser\/([0-9._]+)/i,versionIndex:1},{name:"Mobile Chrome",regex:/(?:CriOS|Chrome)\/([0-9._]+).*Mobile/i,versionIndex:1},{name:"Chrome Headless",regex:/HeadlessChrome\/([0-9._]+)/i,versionIndex:1},{name:"Chrome",regex:/(?:Chrome|CriOS)\/([0-9._]+)/i,versionIndex:1},{name:"Chrome",regex:/Chrome\/stable/i,versionIndex:null},{name:"Mobile Firefox",regex:/(?:FxiOS|(?:Mobile.*Firefox))\/([0-9._]+)/i,versionIndex:1},{name:"Firefox",regex:/(?:^Mozilla.*rv:[0-9._]+.*Firefox\/([0-9._]+))/i,versionIndex:1},{name:"Mobile Safari",regex:/(?:iPhone|iPad|BB10|Mobile).*Version\/([0-9._]+).*(?:Mobile.*Safari|Safari)/i,versionIndex:1},{name:"Safari",regex:/Version\/([0-9._]+).*Safari/i,versionIndex:1}];function Er(e){const t=/WebKit\/[0-9._]+/i.test(e),n=/Edge\/[0-9._]+/i.test(e),r=/Chrome\/[0-9._]+/i.test(e),o=/Safari\/[0-9._]+/i.test(e),i=/Firefox\/[0-9._]+/i.test(e),s=/Electron\/[0-9._]+/i.test(e);return[t,n,r,o,i].filter(Boolean).length>=3&&(!(t&&r&&o&&!n&&!i)&&!(s&&t&&r&&o&&!n&&!i))}const xr=[{name:"Trident",regex:/Trident\/([0-9._]+)/i,versionIndex:1},{name:"WebKit",regex:/WebKit\/([0-9._]+)/i,versionIndex:1,condition:e=>{if(Er(e))return!0;const t=e.match(/Chrome\/([0-9]+)/i);if(t){return parseInt(t[1],10)<28}return!0}},{name:"EdgeHTML",regex:/Edge\/([0-9._]+)/i,versionIndex:1,condition:e=>{if(Er(e))return!1;const t=e.match(/Edge\/([0-9]+)/i),n=e.match(/Chrome\/([0-9]+)/i);if(t&&n){const e=parseInt(t[1],10),r=parseInt(n[1],10);return e<79&&r<79}return!!t&&!n}},{name:"Blink",regex:/(?:Chrome|Chromium|Edg)\/([0-9._]+)/i,versionIndex:1,condition:e=>{if(Er(e))return!1;const t=e.match(/Chrome\/([0-9]+)/i),n=e.match(/Edg\/([0-9]+)/i);if(t){return parseInt(t[1],10)>=28}if(n){return parseInt(n[1],10)>=79}return!0}},{name:"Gecko",regex:/Firefox\/([0-9._]+)/i,versionIndex:1,fallbackRegex:/Gecko\/([0-9._]+)/i},{name:"Presto",regex:/Presto\/([0-9._]+)/i,versionIndex:1}],Sr=[{name:"Windows Phone",regex:/Windows Phone (?:OS )?([0-9._]+)/i,versionIndex:1},{name:"Windows",regex:/Windows NT ([0-9._]+)/i,versionIndex:1,versionMap:{"10.0":"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}},{name:"macOS",regex:/Mac OS X ([0-9._]+)/i,versionIndex:1,alias:"Mac OS X"},{name:"iOS",regex:/(?:iPhone|iPad|iPod).*OS ([0-9._]+)/i,versionIndex:1},{name:"Android",regex:/Android ([0-9._]+)/i,versionIndex:1},{name:"Firefox OS",regex:/Mobile.*rv:[0-9._]+.*Gecko.*Firefox/i,versionIndex:null},{name:"Chrome OS",regex:/CrOS ([a-zA-Z0-9_]+) ([0-9._]+)/i,versionIndex:2},{name:"Ubuntu",regex:/Ubuntu/i,versionIndex:null},{name:"Linux",regex:/Linux/i,versionIndex:null},{name:"BlackBerry",regex:/BlackBerry|BB10/i,versionIndex:null}],wr=[{type:"",vendor:"Apple",model:"Macintosh",regex:/Macintosh/i},{type:"mobile",vendor:"Apple",model:"iPhone",regex:/iPhone/i},{type:"tablet",vendor:"Apple",model:"iPad",regex:/iPad/i},{type:"mobile",vendor:"Apple",model:"iPod",regex:/iPod/i},{type:"mobile",vendor:"Samsung",model:"",regex:/Android [^;]*; ([A-Z0-9-]+)/i,modelIndex:1,condition:e=>/Samsung|SM-|GT-/i.test(e)&&(!/hostname\([^)]*\)/i.test(e)||/SamsungBrowser/i.test(e))},{type:"mobile",vendor:"Vivo",model:"",regex:/Android [^;]*; ([A-Z0-9-]+)/i,modelIndex:1,condition:e=>/VivoBrowser|vivo|V[0-9]+[A-Z]/i.test(e)},{type:"mobile",vendor:"Huawei",model:"",regex:/Android [^;]*; ([A-Z0-9-]+)/i,modelIndex:1,condition:e=>/HUAWEI|Honor|HuaweiBrowser/i.test(e)},{type:"mobile",vendor:"Xiaomi",model:"",regex:/Android [^;]*; ([^)]+)/i,modelIndex:1,condition:e=>/Mi |Redmi|MIUI/i.test(e)},{type:"mobile",vendor:"OPPO",model:"",regex:/Android [^;]*; ([A-Z0-9-]+)/i,modelIndex:1,condition:e=>/OPPO|CPH[0-9]/i.test(e)},{type:"mobile",vendor:"OnePlus",model:"",regex:/Android [^;]*; ([A-Z0-9-]+)/i,modelIndex:1,condition:e=>/OnePlus|ONEPLUS/i.test(e)},{type:"mobile",vendor:"Motorola",model:"",regex:/Android [^;]*; ([^)]+)/i,modelIndex:1,condition:e=>/Motorola|moto\s|XT[0-9]/i.test(e)},{type:"mobile",vendor:"",model:"",regex:/OKEx[^(]*\(([^;]+)/i,modelIndex:1,condition:e=>/OKEx-/i.test(e),vendorExtractor:e=>/MIX|Mi\s|Redmi/i.test(e)?"Xiaomi":/SM-|Galaxy/i.test(e)?"Samsung":/HUAWEI|Honor/i.test(e)?"Huawei":/OPPO|CPH/i.test(e)?"OPPO":/vivo|V[0-9]/i.test(e)?"Vivo":/OnePlus/i.test(e)?"OnePlus":/Pixel|Nexus/i.test(e)?"Google":/iPhone|iPad/i.test(e)?"Apple":""},{type:"mobile",vendor:"Google",model:"",regex:/Android [^;]*; (Pixel [^B]*?)Build/i,modelIndex:1,condition:e=>/Pixel/i.test(e)&&/Mobile/i.test(e)},{type:"mobile",vendor:"",model:"",regex:/Android [^;]*; (Nexus [^B]*?)Build/i,modelIndex:1,condition:e=>/Nexus/i.test(e)&&/Mobile/i.test(e),vendorExtractor:e=>/Nexus 4|Nexus 5X/i.test(e)||/Nexus 5/i.test(e)&&!/Nexus 5X/i.test(e)?"LG":/Nexus 6P/i.test(e)?"Huawei":/Nexus 6/i.test(e)&&!/Nexus 6P/i.test(e)?"Motorola":/Nexus S|Galaxy\s*Nexus|Nexus 10/i.test(e)?"Samsung":/Nexus One|Nexus 9/i.test(e)?"HTC":/Nexus 7/i.test(e)?"Asus":"Google"},{type:"tablet",vendor:"",model:"",regex:/Android [^;]*; (Nexus [^B]*?)Build/i,modelIndex:1,condition:e=>/Nexus/i.test(e)&&!/Mobile/i.test(e),vendorExtractor:e=>/Nexus 10/i.test(e)?"Samsung":/Nexus 9/i.test(e)?"HTC":/Nexus 7/i.test(e)?"Asus":"Google"},{type:"mobile",vendor:"",model:"K",regex:/Android [^;]*; K\)/i,condition:e=>/Mobile/i.test(e)},{type:"tablet",vendor:"",model:"K",regex:/Android [^;]*; K\)/i,condition:e=>!/Mobile/i.test(e)},{type:"mobile",vendor:"",model:"Android Device",regex:/Android.*Mobile/i},{type:"tablet",vendor:"Samsung",model:"",regex:/Android [^;]*; ([A-Z0-9-]+)/i,modelIndex:1,condition:e=>/Samsung|SM-|GT-/i.test(e)&&(!/hostname\([^)]*\)/i.test(e)||/SamsungBrowser/i.test(e))&&!/Mobile/i.test(e)},{type:"tablet",vendor:"Android",model:"Android Tablet",regex:/Android/i,condition:e=>!/Mobile/i.test(e)},{type:"mobile",vendor:"Microsoft",model:"Windows Phone",regex:/Windows Phone/i},{type:"mobile",vendor:"BlackBerry",model:"BlackBerry",regex:/BlackBerry|BB10/i},{type:"mobile",vendor:"Mozilla",model:"Firefox OS Device",regex:/Mobile.*rv:[0-9._]+.*Gecko.*Firefox/i}];function br(e,t,n){const r=e.match(t);if(!r||null===n)return"";if(Array.isArray(n)){const e=n.find(e=>r[e]);return void 0!==e&&r[e]?r[e].replace(/_/g,"."):""}return r[n]?r[n].replace(/_/g,"."):""}function Tr(e){return e.split(".")[0]||""}function kr(e){const t=vr.find(t=>t.regex.test(e));if(t){const n=br(e,t.regex,t.versionIndex);return{name:t.name,version:n,major:Tr(n)}}return{name:"",version:"",major:""}}function Ir(e){const t=xr.filter(t=>t.regex.test(e)).find(t=>!("condition"in t)||"function"!=typeof t.condition||t.condition(e));if(t){let n=br(e,t.regex,t.versionIndex);if(!n&&"fallbackRegex"in t){const r=t.fallbackRegex;n=br(e,r,t.versionIndex)}return{name:t.name,version:n}}return{name:"",version:""}}function Rr(e){const t=Sr.find(t=>t.regex.test(e));if(t){let n="";null!==t.versionIndex&&(n=br(e,t.regex,t.versionIndex),t.versionMap&&t.versionMap[n]&&(n=t.versionMap[n]));const r={name:t.name,version:n};return t.alias&&(r.alias=t.alias),/WOW64|Win64|x64/i.test(e)?r.architecture="x64":/Win32|x86/i.test(e)?r.architecture="x86":/arm64|aarch64/i.test(e)?r.architecture="arm64":/arm/i.test(e)&&(r.architecture="arm"),r}return{name:"",version:"",architecture:"",alias:""}}function Dr(e){const t=wr.filter(t=>t.regex.test(e)).find(t=>!("condition"in t)||"function"!=typeof t.condition||t.condition(e));if(t){let n=t.model,r=t.vendor;if("modelIndex"in t&&void 0!==t.modelIndex){const r=e.match(t.regex);r&&r[t.modelIndex]&&(n=r[t.modelIndex].trim(),n=n.replace(/Build\/.*$/,"").trim())}return"vendorExtractor"in t&&"function"==typeof t.vendorExtractor&&(r=t.vendorExtractor(n)),{type:t.type,vendor:r,model:n}}return{type:"",vendor:"",model:""}}function Cr(e){const t=(()=>{try{let e;if("undefined"!=typeof window?e=window.crypto||window?.msCrypto:"undefined"!=typeof global&&(e=global.crypto),e){const t=new Uint32Array(1);return e.getRandomValues(t),t[0]/2**32}return yr()}catch(e){return yr()}})();return Qn?.isInner&&Qn?.resourceSamplingRate?t<Qn?.resourceSamplingRate:t<(e||.01)}function Nr(e){if(e<0||Number.isNaN(e))return 0;if(e>Pn)return null;const t=e.toFixed(2);return parseFloat(t)}const Or=new Map;function Br(e){if("undefined"==typeof document)return null;const t=`; ${document.cookie}`.split(`; ${e}=`);return t.length>=2&&t.pop()?.split(";").shift()||null}let Ar;function Lr(){if(void 0===Ar)try{Ar=Br("traceId")}catch(e){Ar=null}return Ar}function $r(){const e=window?.navigator?.userAgent;if(!e)return"";const t=e.split(" ");for(const e of t)if("OKApp"===e.slice(0,5))return e.slice(7,e.length-1);return""}function Pr(e){return"undefined"!=typeof window&&window.localStorage?.getItem&&window.localStorage.getItem(e)||""}function Ur(e){lt({message:"pageResource",metric_name:"pageResource",spans:e,type:"customize"})}let Mr=null;function jr(e,t=3500){var n;n=e,Gn=(Fn()||[]).concat(n),clearTimeout(Mr);const r=Fn();r?.length>=30?(Ur(r),qn()):Mr=setTimeout(()=>{r?.length&&(Ur(r),qn())},t)}function Gr(e){if(!e)return null;const t=function(e){const t=new URL(e).pathname,n=t.lastIndexOf(".");return-1===n?function(e){const t=e.substring(0,15);return t.includes("image/png")?"png":t.includes("image/jpeg")?"jpeg":t.includes("image/gif")?"gif":t.includes("image/webp")?"webp":t.includes("image/svg")?"svg":t.includes("application/pdf")?"pdf":""}(e):t.slice(n+1).toLowerCase()}(e);if(!t)return null;return["png","jpg","jpeg","gif","bmp","webp","svg","ico","tiff","woff","woff2","ttf","eot","tif"].includes(t)?"img":["css","scss","less"].includes(t)?"link":["js","ts","jsx","mjs"].includes(t)?"script":""}const Yr=new Map;async function Fr(e){if(!e)return{};if(Yr.has(e))return Yr.get(e);try{const o=(r=e)&&"string"==typeof r?{browser:kr(r),engine:Ir(r),os:Rr(r),device:Dr(r)}:{browser:{name:"",version:"",major:""},engine:{name:"",version:""},os:{name:"",version:"",architecture:"",alias:""},device:{type:"",vendor:"",model:""}},i=await async function(e){if("Android"!==e.os.name||"10"!==e.os.version)return e;if("undefined"==typeof navigator)return e;try{const t=navigator?.userAgentData;if(t&&"function"==typeof t.getHighEntropyValues){const n=await t.getHighEntropyValues(["architecture","model","platform","platformVersion"]);if(n.platformVersion)return{...e,os:{...e.os,version:n.platformVersion,architecture:n.architecture},device:{...e.device,model:n.model||e.device.model}}}}catch(t){return e}return e}(o),s={os_family:i.os.name,os_version:i.os.version,device_type:i.device.type,device_model:i.device.model,device_vendor:i.device.vendor,device_family:(t=i?.device?.vendor,n=i?.device?.model,t||n?t===n?t:n&&t&&n.includes(t)?n:t&&n&&t.includes(n)?t:`${t||""} ${n||""}`.trim():""),browser_family:i.browser.name,browser_version:i.browser.version,browser_version_major:i.browser.major,engine_family:i.engine.name,engine_version:i.engine.version};return!s.device_type&&function(e){return!!e&&(/(Windows|Macintosh|Linux)/i.test(e)&&!/(Mobile|Android|iPhone|iPad)/i.test(e))}(e)&&(s.device_type="pc"),Yr.set(e,s),s}catch(e){return{}}var t,n,r}function qr(e){const[t,n,r]=e.split(".").map(Number);return 1e6*t+1e3*n+r}function Hr(){if("undefined"==typeof window||!window.navigator)return"";const e=window.navigator.connection;return e?.effectiveType||""}const zr=()=>{const e={};if("undefined"==typeof window||!window.navigator||!window.performance)return e;try{e.hardwareConcurrency=window.navigator.hardwareConcurrency||0;const t=window.performance.memory||{};e.jsHeapSizeLimit=t.jsHeapSizeLimit||0,e.totalJSHeapSize=t.totalJSHeapSize||0,e.usedJSHeapSize=t.usedJSHeapSize||0}finally{return e}},Kr=x,Vr=class e{constructor(){this.name=e.id}setupOnce(){Xe(async t=>{if(at().getIntegration(e)){if(!Kr.navigator&&!Kr.location&&!Kr.document)return t;const{host:e,pathname:n,href:r}=Kr.location,o=await async function(){let e=!1;try{if(Or.has(navigator?.userAgent))return Or.get(navigator?.userAgent);const t=await(navigator?.userAgentData?.getHighEntropyValues?.(["platformVersion"]));return"Windows"===navigator?.userAgentData?.platform&&parseInt(t?.platformVersion.split(".")[0],10)>=13&&(e=!0),Or.set(navigator?.userAgent,e),e}catch(e){return!1}}(),i=function(){const e={width:0,height:0};return"undefined"!=typeof window&&window.screen&&(e.width=window.screen.width,e.height=window.screen.height),e}(),s=t?.request?.url?.split("?")?.[0],a=r?.split("?")?.[0],c={...t.request,host:e,path:n,url:s||a,orginUrl:a,isWindows11OrLater:o},u={...t,tags:{...t.tags,screenResolution:`${i.width}x${i.height}`},request:c,sdk:{...t.sdk||{},name:"npm:@ok/sentry",version:mr,numberVersion:qr(mr)}};return u.breadcrumbs&&delete u?.breadcrumbs,u}return t})}};Vr.id="RequestInterceptor";let Wr=Vr;const Jr=x,Xr=class e{constructor(){this.name=e.id}setupOnce(){Xe(async t=>{try{if(at().getIntegration(e)){if(!(Jr?._okGlobal||Jr?.okGlobal||Jr.navigator||Jr.location||Jr.document))return Qn?.devId?{...t,tags:{...t.tags,devId:Qn?.devId},env_info:{devId:Qn?.devId}}:t;const e=Jr?._okGlobal||Jr?.okGlobal||{},n=function(){if("undefined"==typeof window||!window.performance?.getEntriesByType)return 0;try{const e=performance.getEntriesByType("resource"),t=window?._okGlobal?.cdnBaseUrl,n=new URL(t||"")?.hostname||"",r=e?.filter(e=>(new URL(e.name)?.hostname||"")===n&&!("xmlhttprequest"===e?.initiatorType||"fetch"===e?.initiatorType||"beacon"===e?.initiatorType)),o=r?.filter(e=>0===e?.transferSize);return o?.length&&r?.length?(o.length/r.length)?.toFixed(4):0}catch(e){return 0}}();let r={};if(Jr?.__INIT_STATE__){const{appContext:t}=Jr?.__INIT_STATE__;r={isSSRSuccess:t?.isSSRSuccess,faasUseSSR:t?.faasUseSSR,urlKey:decodeURIComponent(t?.urlKey||""),greyScale:e?.greyScale,traceId:t?.traceId||Lr(),ckTid:Lr(),polyfillLevel:t?.polyfillLevel}}const o={locale:Pr("locale")||e?.locale,OKApp:$r(),devId:Qn?.devId||Pr("devId"),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,isApp:String(e?.isApp),withHelper:Br("okhelper-installed")||0,site:e?.site?.sign,cdnBaseUrl:e?.cdnBaseUrl,...zr()},i=await Fr(Jr?.navigator?.userAgent),s={projectName:Jr?.__INIT_STATE__?.appContext?.project||e?.site?.sign||"",resourceCacheRatio:n,okxDataVersion:e?.configJsonVersion,firstVisit:rr().firstVisit,...r,...o},a=function(e){if("undefined"==typeof window||!window.localStorage?.getItem)return null;const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}("ok_global"),{uuid:c}=a?.profile||{},{user:u}=t,d={id:c||u?.id||"0"};return{...t,tags:{...t.tags,...s},ssr_info:r,env_info:o,ua_info:i,user:{...d}}}return t}catch(e){return console.warn("@ok/sentry okGlobalHandler error",e),t}})}};Xr.id="OkGlobalHandler";let Zr=Xr;const Qr=["web-vitals","pageload","pageResource"],eo=/(chrome-extension|moz-extension|webkit-extension|ms-browser-extension|safari-extension|extension):\/\//i;const to=class e{constructor(){this.name=e.id}setupOnce(){Xe((e,t)=>{const n=nr(e,t),r=rr(n?.customConfig);try{if(r.noDefaultReport&&(e=>!(!e.message||!Qr.includes(e.message)))(n))return null;if(r.hideBreadcrumb&&n.breadcrumbs&&(n.breadcrumbs=[]),r.error&&(n.exception=((e,t)=>{const{type:n,value:r}=t||{};if(!n&&!r)return e;const o={};if("string"==typeof n&&(o.type=n),"string"==typeof r&&(o.value=r),e&&e.values&&e.values.length)return{values:e.values.map(e=>{const t=o.type??e.type;return{...e,type:t}})};return{values:[o]}})(n.exception,r.error)),"error"===e.level){const t=e.exception?.values?.[0]?.mechanism?.type;"onerror"!==t&&"onunhandledrejection"!==t||(n.level="fatal"),function(e){try{return!!e.exception?.values&&e.exception.values.some(e=>e.stacktrace?.frames?.some(e=>e.filename&&eo.test(e.filename)))}catch(e){return!1}}(e)&&(n.tags={...n.tags,errorSource:"browser_extension"})}return n}catch(e){return null}})}};to.id="ParamsCheckInterceptor";let no=to;function ro(e){const t=[];for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(192|r>>6),t.push(128|63&r);else if(r<55296||r>=57344)t.push(224|r>>12),t.push(128|r>>6&63),t.push(128|63&r);else{n++;const o=65536+((1023&r)<<10|1023&e.charCodeAt(n));t.push(240|o>>18),t.push(128|o>>12&63),t.push(128|o>>6&63),t.push(128|63&o)}}const n=8*t.length;for(t.push(128);t.length%64!=56;)t.push(0);t.push(255&n),t.push(n>>8&255),t.push(n>>16&255),t.push(n>>24&255),t.push(0,0,0,0);const r=[];for(let e=0;e<t.length;e+=4){const n=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24;r.push(n>>>0)}let o=1732584193,i=4023233417,s=2562383102,a=271733878;for(let e=0;e<r.length;e+=16){const t=r.slice(e,e+16);let n=o,c=i,u=s,d=a;n=oo(n,c,u,d,t[0],7,3614090360),d=oo(d,n,c,u,t[1],12,3905402710),u=oo(u,d,n,c,t[2],17,606105819),c=oo(c,u,d,n,t[3],22,3250441966),n=oo(n,c,u,d,t[4],7,4118548399),d=oo(d,n,c,u,t[5],12,1200080426),u=oo(u,d,n,c,t[6],17,2821735955),c=oo(c,u,d,n,t[7],22,4249261313),n=oo(n,c,u,d,t[8],7,1770035416),d=oo(d,n,c,u,t[9],12,2336552879),u=oo(u,d,n,c,t[10],17,4294925233),c=oo(c,u,d,n,t[11],22,2304563134),n=oo(n,c,u,d,t[12],7,1804603682),d=oo(d,n,c,u,t[13],12,4254626195),u=oo(u,d,n,c,t[14],17,2792965006),c=oo(c,u,d,n,t[15],22,1236535329),n=io(n,c,u,d,t[1],5,4129170786),d=io(d,n,c,u,t[6],9,3225465664),u=io(u,d,n,c,t[11],14,643717713),c=io(c,u,d,n,t[0],20,3921069994),n=io(n,c,u,d,t[5],5,3593408605),d=io(d,n,c,u,t[10],9,38016083),u=io(u,d,n,c,t[15],14,3634488961),c=io(c,u,d,n,t[4],20,3889429448),n=io(n,c,u,d,t[9],5,568446438),d=io(d,n,c,u,t[14],9,3275163606),u=io(u,d,n,c,t[3],14,4107603335),c=io(c,u,d,n,t[8],20,1163531501),n=io(n,c,u,d,t[13],5,2850285829),d=io(d,n,c,u,t[2],9,4243563512),u=io(u,d,n,c,t[7],14,1735328473),c=io(c,u,d,n,t[12],20,2368359562),n=so(n,c,u,d,t[5],4,4294588738),d=so(d,n,c,u,t[8],11,2272392833),u=so(u,d,n,c,t[11],16,1839030562),c=so(c,u,d,n,t[14],23,4259657740),n=so(n,c,u,d,t[1],4,2763975236),d=so(d,n,c,u,t[4],11,1272893353),u=so(u,d,n,c,t[7],16,4139469664),c=so(c,u,d,n,t[10],23,3200236656),n=so(n,c,u,d,t[13],4,681279174),d=so(d,n,c,u,t[0],11,3936430074),u=so(u,d,n,c,t[3],16,3572445317),c=so(c,u,d,n,t[6],23,76029189),n=so(n,c,u,d,t[9],4,3654602809),d=so(d,n,c,u,t[12],11,3873151461),u=so(u,d,n,c,t[15],16,530742520),c=so(c,u,d,n,t[2],23,3299628645),n=ao(n,c,u,d,t[0],6,4096336452),d=ao(d,n,c,u,t[7],10,1126891415),u=ao(u,d,n,c,t[14],15,2878612391),c=ao(c,u,d,n,t[5],21,4237533241),n=ao(n,c,u,d,t[12],6,1700485571),d=ao(d,n,c,u,t[3],10,2399980690),u=ao(u,d,n,c,t[10],15,4293915773),c=ao(c,u,d,n,t[1],21,2240044497),n=ao(n,c,u,d,t[8],6,1873313359),d=ao(d,n,c,u,t[15],10,4264355552),u=ao(u,d,n,c,t[6],15,2734768916),c=ao(c,u,d,n,t[13],21,1309151649),n=ao(n,c,u,d,t[4],6,4149444226),d=ao(d,n,c,u,t[11],10,3174756917),u=ao(u,d,n,c,t[2],15,718787259),c=ao(c,u,d,n,t[9],21,3951481745),o=co(o,n),i=co(i,c),s=co(s,u),a=co(a,d)}return[o,i,s,a].map(e=>{let t="";for(let n=0;n<4;n++){t+=(e>>>8*n&255).toString(16).padStart(2,"0")}return t}).join("")}function oo(e,t,n,r,o,i,s){const a=co(co(e,t&n|~t&r),co(o,s));return co(uo(a,i),t)}function io(e,t,n,r,o,i,s){const a=co(co(e,t&r|n&~r),co(o,s));return co(uo(a,i),t)}function so(e,t,n,r,o,i,s){const a=co(co(e,t^n^r),co(o,s));return co(uo(a,i),t)}function ao(e,t,n,r,o,i,s){const a=co(co(e,n^(t|~r)),co(o,s));return co(uo(a,i),t)}function co(e,t){return(e+t&4294967295)>>>0}function uo(e,t){return(e<<t|e>>>32-t)>>>0}const lo=class e{constructor(){this.name=e.id}setupOnce(){Xe((t,n)=>{const r=nr(t,n),{customConfig:o,...i}=r,s=JSON.parse(JSON.stringify(i));return s.customConfig=o,at().getIntegration(e)&&s.user&&(s.user.id&&(s.user.id=ro(s.user.id)),s.user.login_name&&(s.user.login_name=ro(s.user.login_name))),s})}};lo.id="InnerProjectInterceptor";let fo=lo;function po(e){if(!e.type)throw new Error("report: type params is required");const{type:t,message:n="",extra:r}=e;lt({message:n,metric_name:t,extra:r,level:"info",type:"customize"})}let ho=[],mo=0,go=null,_o=!1,yo=null,vo=!1;function Eo(){if(0===ho.length)return;const e=[...ho];ho=[],po({type:"recource.error",message:` ${e.length} `,extra:{errors:e,totalErrorCount:mo,batchCount:e.length,c1:mo}}),go&&(clearTimeout(go),go=null)}function xo(){vo||(vo=!0,yo=e=>{try{if(_o)return;const t=e?.target?.localName,n=e?.target||e?.srcElement;if(n instanceof HTMLScriptElement||n instanceof HTMLLinkElement||n instanceof HTMLImageElement){const r=t&&"link"===t?e?.target?.href:e?.target?.currentSrc||e?.target?.src,o=e.composedPath?.()||e.path,i={resourceUrl:r,html:n.outerHTML,resourceType:t,paths:o?.map(e=>e.tagName).filter(Boolean),timestamp:Date.now()};if(ho.push(i),mo++,mo>=30)return void(!_o&&yo&&(window.removeEventListener?.("error",yo,!0),_o=!0,Eo(),console.warn("@ok/sentry: ")));ho.length>=10?Eo():go||(go=setTimeout(()=>{Eo(),go=null},1e4))}}catch(e){console.warn(`@ok/sentry getResourceError: ${e}`)}},window.addEventListener?.("error",yo,!0))}let So=!1;function wo(){try{if(So)return;if(So=!0,!1===Qn.enableLongTask)return;if("undefined"==typeof window||!window.performance?.getEntriesByType)return;const e=window.performance.getEntriesByType("long-animation-frame");if(!e||0===e.length)return;const t=Qn.longTaskDurationThreshold??50;let n=0,r=0,o=0,i=0,s=0;const a=[];if(e.forEach(e=>{const c=e.duration||0;if(c<t)return;const u=e.blockingDuration||0;n+=c,r=Math.max(r,c),o+=u,i=Math.max(i,u),s++,a.push(...function(e){const{scripts:t,startTime:n,duration:r,blockingDuration:o}=e;return t&&0!==t.length?t?.filter(e=>e.duration&&e.duration>10).map(e=>{const t=e.duration||0,i=e.forcedStyleAndLayoutDuration||0,s=e.sourceFunctionName,a=e.invoker||e.invokerType,c=e.sourceURL,u=e.sourceCharPosition||0;return{dur:t,forced:i,func:s,invoker:a,rawDur:r,blkDur:o,startTime:n,source:`${c}:1:${u}`}})||[]:[{startTime:n,rawDur:r,blkDur:o,dur:0,forced:0,source:"unknown"}]}(e))}),0===s)return;const c=a.length>0?n/a.length:0;!function(e){if(!e)return;const t=!e.message&&!e.metric_name&&!e.data;lt({message:t?"resource.summary":e.message||"resource.summary",metric_name:t?"resource.summary":e.metric_name||"resource.summary",extra:{...t?e:e.data||{},c1:e.c1,c2:e.c2,c3:e.c3,c4:e.c4},type:"customize"})}({message:"loaf.summary",metric_name:"loaf.summary",data:{loafCount:s,threshold:t,totalDuration:parseFloat(n.toFixed(2)),maxDuration:parseFloat(r.toFixed(2)),avgDuration:parseFloat(c.toFixed(2)),totalBlockingDuration:parseFloat(o.toFixed(2)),loafs:a.slice(0,30)},c1:s,c2:parseFloat(r.toFixed(2)),c3:parseFloat(c.toFixed(2)),c4:parseFloat(o.toFixed(2))})}catch(e){console.warn(`@ok/sentry error: getLongTask ${e}`)}}var bo=(e=>(e.load="load",e.firstByte="firstByte",e.domReady="domReady",e.dns="dns",e.tcp="tcp",e.request="request",e.response="response",e.resEnd="resEnd",e.domParse="domParse",e.resourceLoad="resourceLoad",e.interimResponse="interimResponse",e.afterInterimResponse="afterInterimResponse",e.status="status",e.deliveryType="deliveryType",e))(bo||{});const To=0;function ko(e,t="resource"){const n={isError:!1,code:To};if(!function(e){try{if(!e?.transferSize||!e?.encodedBodySize)return!1;if(e.encodedBodySize>=1073741824)return!1;if(Un.some(t=>e.name.includes(t)))return!1;if(e?.duration>Pn)return!1;const t="xmlhttprequest"==e?.initiatorType||"fetch"==e?.initiatorType,n=Qn?.isInner?Qn?.apiThreshold||0:2e3;return Qn?.debug&&console.log("curApiThreshold",n,Qn),!(t&&e?.duration<n)}catch(e){return!1}}(e)&&!n.isError)return null;const r=new URL(e.name)?.hostname||"";let o=e.name;try{o=new URL(e.name)?.pathname?.replace(/\/\d+$/,"")}catch(e){console.error(e)}const{responseStart:i,responseEnd:s,fetchStart:a,domainLookupStart:c,domainLookupEnd:u,connectStart:d,connectEnd:l,requestStart:f,serverTiming:p,duration:h,nextHopProtocol:m,firstInterimResponseStart:g=0,finalResponseHeadersStart:_=0,deliveryType:y="",responseStatus:v}=e,E=i-a,x=i-f,S=s-i,w=s-a,b=u-c,T=l-d,k=g>0?g-f:0,I=g>0?_-g:0;let R={[bo.dns]:{value:Nr(b)},[bo.tcp]:{value:Nr(T)},[bo.request]:{value:Nr(x)},[bo.firstByte]:{value:Nr(E)},[bo.response]:{value:Nr(S)},[bo.resEnd]:{value:Nr(w)},[bo.interimResponse]:{value:Nr(k)},[bo.afterInterimResponse]:{value:Nr(I)}},D=function(e){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType||"beacon"===e.initiatorType)return"http.client";const t=Gr(e?.name)||("css"===e.initiatorType?"link":e.initiatorType);return t?`${e.entryType}.${t}`:`${e.entryType}.other`}(e);if("html"===t){const t=e.domInteractive-s,n=e.loadEventStart-e.domContentLoadedEventEnd,r=e.domContentLoadedEventEnd-a,o=e.loadEventStart-a;if(!(r>0&&r<=Pn&&o>0&&o<=Pn))return null;{const e={[bo.domParse]:{value:Nr(t)},[bo.domReady]:{value:Nr(r)},[bo.resourceLoad]:{value:Nr(n)},[bo.load]:{value:Nr(o)}};R={...R,...e},D="resource.html"}}const C={op:D,url:o,host:r,duration:h,size:{transferSize:e.transferSize,encodedBodySize:e.encodedBodySize,decodedBodySize:e.decodedBodySize},timing:R,nextHopProtocol:m,httpCode:v,isError:n.isError,errorCode:n.isError?n.code:void 0};return Array.isArray(p)&&p.length>0&&(C.serverTiming=p),y&&(C.deliveryType=y),C}const Io=new Set,Ro=new Set;let Do={};const Co=Cr(1);const No="pageload";function Oo(){setTimeout(()=>{const e=function(){try{if(!window?.performance&&!window?.performance?.getEntries)return;const e=window?.performance?.getEntriesByType?.("navigation")?.[0],{domInteractive:t,domContentLoadedEventEnd:n,responseStart:r,responseEnd:o,fetchStart:i,loadEventStart:s,domainLookupStart:a,domainLookupEnd:c,connectStart:u,connectEnd:d,requestStart:l,firstInterimResponseStart:f=0,finalResponseHeadersStart:p=0,responseStatus:h,deliveryType:m}=e,g=r-i,_=n-i,y=s-i,v=c-a,E=d-u,x=r-l,S=f>0?f-l:0,w=f>0?p-f:0,b=o-r,T=o-i,k=t-o,I=s-n;return _>0&&_<=Pn&&y>0&&y<=Pn?{[bo.dns]:{value:Nr(v)},[bo.tcp]:{value:Nr(E)},[bo.request]:{value:Nr(x)},[bo.firstByte]:{value:Nr(g)},[bo.response]:{value:Nr(b)},[bo.resEnd]:{value:Nr(T)},[bo.domParse]:{value:Nr(k)},[bo.domReady]:{value:Nr(_)},[bo.resourceLoad]:{value:Nr(I)},[bo.load]:{value:Nr(y)},[bo.interimResponse]:{value:Nr(S)},[bo.afterInterimResponse]:{value:Nr(w)},[bo.status]:{value:h},[bo.deliveryType]:{value:m}}:{}}catch(e){return{}}}();lt({message:No,metric_name:No,measurements:{...e},extra:{c1:Hr()},type:"customize"})},0)}function Bo(){"visible"===document.visibilityState&&Oo()}function Ao(){try{if(!window?.performance&&!window?.performance?.getEntries)return;const e=new PerformanceObserver(t=>{const n=function(e,t="resource",n="random"){const r=[],o=[bo.dns,bo.tcp,bo.request,bo.response];return e?.forEach?.(e=>{const i=ko(e,t);if(i?.isError){const{host:e,op:t,url:n}=i,o=`${e}||${t}||${n}`;if(!Io.has(o)){const e={...i,flag:"errorlike"};r.push(e),Io.add(o)}return}if("max"!==n){if(i){const{host:e,timing:t,url:n,op:s}=i,a=`${e}||${s}||${n}`;if(Io.size>=1e3)return;if(!Ro.has(e)&&Ro.size<50){const t={...i,flag:"first"};r.push(t),Io.add(a),Ro.add(e)}if(Object.keys(Do).length<2e3&&o.forEach(n=>{const r=Co?`${e}||${s}||${n}`:`${e}||${n}`,o=t[n],c=o?.value||0;(!Do[r]||c>Do[r].value)&&(Do[r]={value:c,entry:{...i,flag:"max",maxMetric:n},resourceKey:a})}),Cr()&&!Io.has(a)){const e={...i,flag:"random"};r.push(e),Io.add(a)}}}else i&&r.push(i)}),Object.values(Do).forEach(({entry:e,resourceKey:t})=>{Io.has(t)||(r.push(e),Io.add(t))}),r}(t.getEntries());Qn?.debug&&console.log("",n),n?.length&&jr(n);Qn?.isInner&&1==Qn?.resourceSamplingRate||setTimeout(()=>{e.disconnect(),function(){try{Do={},Ro.clear(),Io.clear()}catch(e){console.warn(`@ok/sentry error: clearCacheResource ${e}`)}}()},1e4)});e.observe({type:"resource",buffered:!0})}catch(e){console.warn(`@ok/sentry error: getResourceRandomEntries ${e}`)}}var Lo,$o,Po=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Uo=function(e){if("loading"===document.readyState)return"loading";var t=Po();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},Mo=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},jo=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,o=r.id?"#"+r.id:Mo(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+o.length>(t||100)-1)return n||o;if(n=n?o+">"+n:o,r.id)break;e=r.parentNode}}catch(e){}return n},Go=-1,Yo=function(){return Go},Fo=function(e){addEventListener("pageshow",function(t){t.persisted&&(Go=t.timeStamp,e(t))},!0)},qo=function(){var e=Po();return e&&e.activationStart||0},Ho=function(e,t){var n=Po(),r="navigate";return Yo()>=0?r="back-forward-cache":n&&(document.prerendering||qo()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},zo=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Ko=function(e,t,n,r){var o,i;return function(s){t.value>=0&&(s||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Vo=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Wo=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},Jo=function(e){var t=!1;return function(){t||(e(),t=!0)}},Xo=-1,Zo=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Qo=function(e){"hidden"===document.visibilityState&&Xo>-1&&(Xo="visibilitychange"===e.type?e.timeStamp:0,ti())},ei=function(){addEventListener("visibilitychange",Qo,!0),addEventListener("prerenderingchange",Qo,!0)},ti=function(){removeEventListener("visibilitychange",Qo,!0),removeEventListener("prerenderingchange",Qo,!0)},ni=function(){return Xo<0&&(Xo=Zo(),ei(),Fo(function(){setTimeout(function(){Xo=Zo(),ei()},0)})),{get firstHiddenTime(){return Xo}}},ri=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},oi=[1800,3e3],ii=function(e,t){t=t||{},ri(function(){var n,r=ni(),o=Ho("FCP"),i=zo("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-qo(),0),o.entries.push(e),n(!0)))})});i&&(n=Ko(e,o,oi,t.reportAllChanges),Fo(function(r){o=Ho("FCP"),n=Ko(e,o,oi,t.reportAllChanges),Vo(function(){o.value=performance.now()-r.timeStamp,n(!0)})}))})},si=[.1,.25],ai=0,ci=1/0,ui=0,di=function(e){e.forEach(function(e){e.interactionId&&(ci=Math.min(ci,e.interactionId),ui=Math.max(ui,e.interactionId),ai=ui?(ui-ci)/7+1:0)})},li=function(){return Lo?ai:performance.interactionCount||0},fi=function(){"interactionCount"in performance||Lo||(Lo=zo("event",di,{type:"event",buffered:!0,durationThreshold:0}))},pi=[],hi=new Map,mi=0,gi=[],_i=function(e){if(gi.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=pi[pi.length-1],n=hi.get(e.interactionId);if(n||pi.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};hi.set(r.id,r),pi.push(r)}pi.sort(function(e,t){return t.latency-e.latency}),pi.length>10&&pi.splice(10).forEach(function(e){return hi.delete(e.id)})}}},yi=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Jo(e),"hidden"===document.visibilityState?e():(n=t(e),Wo(e)),n},vi=[200,500],Ei=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},ri(function(){var n;fi();var r,o=Ho("INP"),i=function(e){yi(function(){e.forEach(_i);var t=function(){var e=Math.min(pi.length-1,Math.floor((li()-mi)/50));return pi[e]}();t&&t.latency!==o.value&&(o.value=t.latency,o.entries=t.entries,r())})},s=zo("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=Ko(e,o,vi,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Wo(function(){i(s.takeRecords()),r(!0)}),Fo(function(){mi=li(),pi.length=0,hi.clear(),o=Ho("INP"),r=Ko(e,o,vi,t.reportAllChanges)}))}))},xi=[],Si=[],wi=0,bi=new WeakMap,Ti=new Map,ki=-1,Ii=function(e){xi=xi.concat(e),Ri()},Ri=function(){ki<0&&(ki=yi(Di))},Di=function(){Ti.size>10&&Ti.forEach(function(e,t){hi.has(t)||Ti.delete(t)});var e=pi.map(function(e){return bi.get(e.entries[0])}),t=Si.length-50;Si=Si.filter(function(n,r){return r>=t||e.includes(n)});for(var n=new Set,r=0;r<Si.length;r++){var o=Si[r];Ci(o.startTime,o.processingEnd).forEach(function(e){n.add(e)})}var i=xi.length-1-50;xi=xi.filter(function(e,t){return e.startTime>wi&&t>i||n.has(e)}),ki=-1};gi.push(function(e){e.interactionId&&e.target&&!Ti.has(e.interactionId)&&Ti.set(e.interactionId,e.target)},function(e){var t,n=e.startTime+e.duration;wi=Math.max(wi,e.processingEnd);for(var r=Si.length-1;r>=0;r--){var o=Si[r];if(Math.abs(n-o.renderTime)<=8){(t=o).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},Si.push(t)),(e.interactionId||"first-input"===e.entryType)&&bi.set(e,t),Ri()});var Ci=function(e,t){for(var n,r=[],o=0;n=xi[o];o++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},Ni=[2500,4e3],Oi={},Bi=[800,1800],Ai=function e(t){document.prerendering?ri(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},Li=function(e,t){t=t||{};var n=Ho("TTFB"),r=Ko(e,n,Bi,t.reportAllChanges);Ai(function(){var o=Po();o&&(n.value=Math.max(o.responseStart-qo(),0),n.entries=[o],r(!0),Fo(function(){n=Ho("TTFB",0),(r=Ko(e,n,Bi,t.reportAllChanges))(!0)}))})};function $i(e,t){let n;return function(...r){const o=this;n&&clearTimeout(n),n=setTimeout(()=>{e.apply(o,r),n=null},t)}}function Pi(){return navigator.userAgent.includes("HeadlessChrome TestPlatform")}function Ui(e){if(!e)return;const{name:t,value:n,attribution:r,navigationType:o="",rating:i=""}=e;if(0===n)return;let s={navigationType:o,rating:i},a={};switch(function(e){Pi()&&(console.log(`HeadlessChrome recordWebVitals(${e.name}): `,JSON.parse(JSON.stringify(e))),window._webvital_metrics[e.name]=e)}(e),t){case"CLS":a={"cls.largestShiftTarget":r.largestShiftTarget},s={...s,c1:r?.largestShiftTarget};break;case"INP":let e,t,n;r&&(e=function(e){try{return{inputDelay:Math.round(e?.inputDelay),processingDuration:Math.round(e?.processingDuration),presentationDelay:Math.round(e?.presentationDelay),interactionTarget:e?.interactionTarget,interactionType:e?.interactionType}}catch(e){return{}}}(r),t=(e=>{let t={};try{const n=e.longAnimationFrameEntries;if(!n||!n.length)return;const r=n.reduce((e,t)=>t.duration>e.duration?t:e,n[0]),{duration:o,startTime:i,renderStart:s,styleAndLayoutStart:a,blockingDuration:c}=r;return t={duration:o,blockingDuration:c,styleAndLayoutDuration:a?Math.max(i+o-a,0):0,rafDuration:Math.max(a-s,0)},r.scripts&&r.scripts.length?(t.scripts=r.scripts.map(e=>{const{duration:t,forcedStyleAndLayoutDuration:n,invoker:r,invokerType:o,sourceCharPosition:i,sourceFunctionName:s,sourceURL:a=""}=e;return{duration:t,forcedStyleAndLayoutDuration:n,invoker:r,invokerType:o,sourceCharPosition:i,sourceFunctionName:s,sourceURL:a.split("/").slice(-3).join("/")}}),t):t}catch(e){return t}})(r),t&&(n=t.scripts,delete t.scripts)),a={loAFInfo:t,loAFScripts:n,...e},s={...s,c1:e?.interactionTarget,c2:e?.interactionType,c3:e?.inputDelay,c4:e?.processingDuration,c5:e?.presentationDelay};break;case"LCP":a={"lcp.element":r?.element,"lcp.url":r?.url,"lcp.size":r?.lcpEntry?.size},s={...s,c1:r?.element,c2:r?.timeToFirstByte,c3:r?.resourceLoadDelay,c4:r?.resourceLoadDuration,c5:Hr(),c6:r?.elementRenderDelay}}const c=t.toLowerCase();lt({message:"web-vitals",metric_name:c,extra:{...a,...s},measurements:{[c]:{value:n}},type:"customize"})}const Mi=(e={})=>{Ui(e)},ji=(e={})=>{try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Gi=$i(Mi,1e3),Yi=$i(Mi,1e3),Fi=$i(Mi,4e3),qi=e=>{e.value&&Yi(ji(e))},Hi=e=>{e.value&&Fi(ji(e))},zi=e=>{Gi(ji(e))};function Ki(){Pi()&&(window._webvital_metrics={}),function(e,t){!function(e,t){t=t||{},ri(function(){var n,r=ni(),o=Ho("LCP"),i=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach(function(e){e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-qo(),0),o.entries=[e],n())})},s=zo("largest-contentful-paint",i);if(s){n=Ko(e,o,Ni,t.reportAllChanges);var a=Jo(function(){Oi[o.id]||(i(s.takeRecords()),s.disconnect(),Oi[o.id]=!0,n(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return yi(a)},{once:!0,capture:!0})}),Wo(a),Fo(function(r){o=Ho("LCP"),n=Ko(e,o,Ni,t.reportAllChanges),Vo(function(){o.value=performance.now()-r.timeStamp,Oi[o.id]=!0,n(!0)})})}})}(function(t){var n=function(e){var t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var n=Po();if(n){var r=n.activationStart||0,o=e.entries[e.entries.length-1],i=o.url&&performance.getEntriesByType("resource").filter(function(e){return e.name===o.url})[0],s=Math.max(0,n.responseStart-r),a=Math.max(s,i?(i.requestStart||i.startTime)-r:0),c=Math.max(a,i?i.responseEnd-r:0),u=Math.max(c,o.startTime-r);t={element:jo(o.element),timeToFirstByte:s,resourceLoadDelay:a-s,resourceLoadDuration:c-a,elementRenderDelay:u-c,navigationEntry:n,lcpEntry:o},o.url&&(t.url=o.url),i&&(t.lcpResourceEntry=i)}}return Object.assign(e,{attribution:t})}(t);e(n)},t)}(qi,{reportAllChanges:!0}),function(e,t){Li(function(t){var n=function(e){var t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){var n=e.entries[0],r=n.activationStart||0,o=Math.max((n.workerStart||n.fetchStart)-r,0),i=Math.max(n.domainLookupStart-r,0),s=Math.max(n.connectStart-r,0),a=Math.max(n.connectEnd-r,0);t={waitingDuration:o,cacheDuration:i-o,dnsDuration:s-i,connectionDuration:a-s,requestDuration:e.value-a,navigationEntry:n}}return Object.assign(e,{attribution:t})}(t);e(n)},t)}(Ui),function(e,t){ii(function(t){var n=function(e){var t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:Uo(Yo())};if(e.entries.length){var n=Po(),r=e.entries[e.entries.length-1];if(n){var o=n.activationStart||0,i=Math.max(0,n.responseStart-o);t={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:Uo(e.entries[0].startTime),navigationEntry:n,fcpEntry:r}}}return Object.assign(e,{attribution:t})}(t);e(n)},t)}(Ui),function(e,t){$o||($o=zo("long-animation-frame",Ii)),Ei(function(t){var n=function(e){var t=e.entries[0],n=bi.get(t),r=t.processingStart,o=n.processingEnd,i=n.entries.sort(function(e,t){return e.processingStart-t.processingStart}),s=Ci(t.startTime,o),a=e.entries.find(function(e){return e.target}),c=a&&a.target||Ti.get(t.interactionId),u=[t.startTime+t.duration,o].concat(s.map(function(e){return e.startTime+e.duration})),d=Math.max.apply(Math,u),l={interactionTarget:jo(c),interactionTargetElement:c,interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:d,processedEventEntries:i,longAnimationFrameEntries:s,inputDelay:r-t.startTime,processingDuration:o-r,presentationDelay:Math.max(d-o,0),loadState:Uo(t.startTime)};return Object.assign(e,{attribution:l})}(t);e(n)},t)}(Hi,{reportAllChanges:!0}),function(e,t){!function(e,t){t=t||{},ii(Jo(function(){var n,r=Ho("CLS",0),o=0,i=[],s=function(e){e.forEach(function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}}),o>r.value&&(r.value=o,r.entries=i,n())},a=zo("layout-shift",s);a&&(n=Ko(e,r,si,t.reportAllChanges),Wo(function(){s(a.takeRecords()),n(!0)}),Fo(function(){o=0,r=Ho("CLS",0),n=Ko(e,r,si,t.reportAllChanges),Vo(function(){return n()})}),setTimeout(n,0))}))}(function(t){var n=function(e){var t,n={};if(e.entries.length){var r=e.entries.reduce(function(e,t){return e&&e.value>t.value?e:t});if(r&&r.sources&&r.sources.length){var o=(t=r.sources).find(function(e){return e.node&&1===e.node.nodeType})||t[0];o&&(n={largestShiftTarget:jo(o.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:o,largestShiftEntry:r,loadState:Uo(r.startTime)})}}return Object.assign(e,{attribution:n})}(t);e(n)},t)}(zi,{reportAllChanges:!0})}const Vi=()=>{if("undefined"==typeof window||!window.localStorage?.getItem||!window.localStorage?.setItem)return;var e,t;Pr(zn)||(tr({firstVisit:!0}),e=zn,t="1","undefined"!=typeof window&&window.localStorage?.setItem&&window.localStorage.setItem(e,t))};const Wi=0,Ji=1,Xi=2;const Zi=(e,t,n)=>{let r=["ParamsCheckInterceptor","RequestInterceptor"],o=[];var i,s;s=e,Array.isArray(s)&&s.length>0&&s.every(e=>"string"==typeof e)?r=[...r,...e]:(i=e,o=Array.isArray(i)?i.filter(e=>"function"==typeof e):"function"==typeof i?[i]:[],r=[...r,...o.map(e=>e.name)]);let a=!1;if("undefined"!=typeof window&&window.__INIT_STATE__?.appContext){"1"===window.__INIT_STATE__.appContext.isAPMProxyOff&&(a=!0)}"boolean"==typeof n&&!n||(r=r.concat(["InboundFilters","GlobalHandlers","LinkedErrors","HttpContext"]),a||r.push("TryCatch")),t===Wi&&r.push("InnerProjectInterceptor"),t===Ji&&r.push("OkGlobalHandler");return function(e=[],t=[]){const n=[new Zr,new fo,new no,new Wr];return[...An,...t,...n].filter(t=>e.includes(t.name))}([...new Set(r)],o)};let Qi=!1;const es=["local","dev","development","daily","pre","prod","production"];const ts={devId:"Devid"},ns=e=>{const t={};return Object.keys(e).forEach(n=>{const r=ts[n];r&&(t[r]=e[n])}),t};const rs={message:"captureEvent",level:"info"};function os(e,t=["authorization","token","ssn"]){if("object"!=typeof e||null===e)return e;try{return function e(n){return Object.entries(n).reduce((n,[r,o])=>"object"==typeof o&&null!==o?{...n,[r]:e(o)}:{...n,[r]:t.includes(r.toLowerCase())?"[REDACTED]":o},{})}(JSON.parse(JSON.stringify(e)))}catch(t){return console.warn("@ok/sentry captureException: Error while sanitizing error object",t),e}}function is(e,t){try{if(e&&"AxiosError"===e?.name){const n=os(e);if(t?.contexts?.report?.info){const e=os(t),r=function(e){try{if("string"!=typeof e)return e;const t=os(JSON.parse(e));return JSON.stringify(t)}catch(t){return e}}(e?.contexts?.report?.info);return{exception:n,captureContext:{...e,contexts:{...e?.contexts,report:{...e?.contexts?.report,info:r}}}}}return{exception:n,captureContext:t}}return{exception:e,captureContext:t}}catch(n){return{exception:e,captureContext:t}}}const ss="custom_";window.OkPerf={customLog:function(e){po({type:e.type,extra:{c1:e?.attributes?.extranKey,c2:e?.attributes?.extra1Key?`${e?.attributes?.extra1Key}`:"",c3:e?.attributes?.extra2Key?`${e?.attributes?.extra2Key}`:""}})}},function(){try{if("undefined"==typeof window||!window.document)return;Vi(),xo(),Ki(),window.addEventListener?.("load",()=>{"visible"===document.visibilityState?Oo():document.addEventListener?.("visibilitychange",()=>{Bo()})}),window.addEventListener?.("popstate",Bo),window.addEventListener?.("pushState",Bo),window.addEventListener?.("replaceState",Bo),window.addEventListener?.("load",()=>{!function(){try{setTimeout(()=>{if(!window?.performance&&!window?.performance?.getEntries)return;const e=window?.performance?.getEntriesByType?.("navigation")?.[0];if(e){const t=ko(e,"html");t&&Ur([t])}})}catch(e){console.warn("Current browser does not support performance.getEntriesByType")}}(),Ao(),"undefined"!=typeof window&&(window.requestIdleCallback?window.requestIdleCallback(()=>{window.requestIdleCallback(()=>wo(),{timeout:3e3})},{timeout:5e3}):setTimeout(wo,5e3))}),(e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};window.addEventListener?.("visibilitychange",t,!0),window.addEventListener?.("pagehide",t,!0)})(()=>{Eo(),function(){const e=Fn();e?.length&&(Ur(e),qn())}(),Hn()})}catch(e){console.warn("defaultCustomReport error",e)}}();var as={init:function(e,t){const n=!window?._okGlobal&&!window?.okGlobal,r=window?.inOKXExtension;if(Qi)return;const o=e;try{tr({enableLongTask:o.enableLongTask,longTaskDurationThreshold:o.longTaskDurationThreshold,hideBreadcrumb:o.hideBreadcrumb,noDefaultReport:o.noDefaultReport,sanitizeRules:o.sanitizeRules,queryWhiteList:o.queryWhiteList,devId:o.devId}),o.transportOptions={...o.transportOptions,headers:ns(o)};const e=Boolean(t&&t.debug);let s=Ji;r?s=Xi:(n||o?.isInner)&&(s=Wi,o.isInner=!0),o.integrations=Zi(o.integrations,s,o.defaultIntegrations),o.defaultIntegrations=!1,"number"!=typeof o.tracesSampleRate&&(o.tracesSampleRate=1),o.tracePropagationTargets||(o.tracePropagationTargets=[]),o?.autoSessionTracking||(o.autoSessionTracking=!1),o.transport=hr;const a=function(){const e=window._okGlobal||window.okGlobal;return e?.envSign||""}();if(a&&(o.environment=a),!o.environment||!es.includes(o.environment))throw new Error(`please check environment value should be one of ${es}, now is ${o.environment}`);if(!o.dsn)throw new Error("dsn value is required");try{o.environment={local:"dev",development:"dev",test:"daily",production:"prod"}[i=o.environment]||i}catch(e){console.warn(`@ok/sentry: transformEnv error: ${e}`)}if(r)return Ln(o),ft("isInner","false"),ft("isInOKXExtension","true"),void(Qi=!0);if(o?.isInner)return er(o?.resourceSamplingRate)||tr({isInner:!0,resourceSamplingRate:o?.resourceSamplingRate,apiThreshold:o?.apiThreshold}),Ln(o),ft("isInner","true"),ft("isInOKXExtension","false"),void(Qi=!0);if(!o.dsn)return Ln(o),void(Qi=!0);o.dsn=function(e,t,n=!1){const r=-1===e.indexOf("/apmfe")?"/apmfe":"",o=t.match(/daily/)||"localhost"===window.document.domain||n?"sentry.coinall.ltd":window.document.domain;return-1===e.indexOf(".ltd")?e.replace(/(https:)|(http:)/,window.document.location.protocol).replace(/@.*com?/,`@${o}${r}`):e.replace(/(https:)|(http:)/,window.document.location.protocol).replace(/@.*ltd?/,`@${o}${r}`)}(o.dsn,a,o.isInner),o.allowUrls=function(e){const t=window._okGlobal||window.okGlobal,n=t?.cdnBaseUrl||"";return e=e||[],n&&"string"==typeof n?[window.origin,n,...e]:e}(o.allowUrls),!e&&a.match(/daily/)||(Ln(o),ft("isInner","false"),ft("isInOKXExtension","false"),Qi=!0)}catch(e){console.error(`init @ok/sentry fail, error ${e}`)}var i},report:po,captureException:function(e,t){try{const n=is(e,t);n?.captureContext&&(n.captureContext.tags={...n.captureContext.tags||{},beacon:!0});const r=n?.exception,o=n?.captureContext;dt(r,o)}catch(n){dt(e,t)}},captureMessage:function(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return at().captureMessage(e,n,r)},captureEvent:function(e,t,n){const r=e?.customConfig||t?.customConfig||n;lt({...rs,...e},{captureContext:{customConfig:r,...t?.captureContext||{}}})},setTag:function(e,t){if(!e)return;ft(`${ss}${e}`,t)},setTags:function(e){if(!e)return;const t=Object.keys(e);if(!t.length)return;const n={};t.forEach(t=>{n[`${ss}${t}`]=e[t]}),function(e){at().setTags(e)}(n)},setUser:function(e){at().setUser(e)},setExtra:function(e,t){at().setExtra(e,t)},setExtras:function(e){at().setExtras(e)},setContext:function(e,t){at().setContext(e,t)},addGlobalEventProcessor:Xe,addBreadcrumb:function(e){at().addBreadcrumb(e)},withScope:pt,getCurrentHub:at,eventFromException:function(e,t,n){return Ft(on,t,n)},BrowserClient:Kt};return as});
//# sourceMappingURL=index.umd.js.map
