"use strict";(self.webpackChunkweb3_activities=self.webpackChunkweb3_activities||[]).push([[5281],{65281:(e,r,t)=>{t.d(r,{A:()=>j});var a=t(89379),i=t(80045),o=t(41594),s=t(3316),c=t.n(s),n=t(88688),u=t(71075),d=t(19919),l=["alt","store"];function m(e,r){var t=e.alt,o=e.store,s=(0,i.A)(e,l),c=o.onLoad,n=o.onError,u=o.needSource,m=o.sourceSrcset,p=o.requestSrc,v=o.imgSrcSet,h=o.imgSrc;return h?(0,d.jsxs)(d.Fragment,{children:[u&&(0,d.jsx)("source",{srcSet:m}),(0,d.jsx)("img",(0,a.A)((0,a.A)({},s),{},{src:h,ref:r,srcSet:v,alt:t,onLoad:e=>{c(e,h,p)},onError:e=>{n(e,h,p)}}))]}):null}const p=(0,o.forwardRef)(m);new RegExp("(".concat("x-oss-process=image/","[^&]+&??)"));var v={cover:"cover",contain:"contain"};v.allAsArray=Object.values(v);var h={resize:"resize",crop:"crop"},g={sm:"(max-width: 767px)",md:"(min-width: 768px) and (max-width: 1023px)",lg:"(min-width: 1024px) and (max-width: 1269px)",xl:"(min-width: 1270px) and (max-width: 1859px)","2xl":"(min-width: 1860px) and (max-width: 2036px)","3xl":"(min-width: 2037px)"},f=t(22871),S=["media","src"];function A(e){var r=e.mediaSource,t=e.isErrorState,s=e.useWebp;return r.map((e,r)=>{var c=e.media,n=e.src,u=(0,i.A)(e,S),l=g[c]||c,m=n;return m&&!t?(0,d.jsxs)(o.Fragment,{children:[s&&!(0,f.U)(m)&&(0,d.jsx)("source",(0,a.A)({media:l,srcSet:(0,f.by)(m)},u)),(0,d.jsx)("source",{media:l,srcSet:m})]},l||r):null})}var b=t(5544),x=t(77810),w=["top","bottom","right","left"];var z=t(22822);var y=["src","alt","layout","lazyload","className","useWebp","placeholder","errorImg","width","height","style","pictureClassName","pictureStyle","resize","originWidth","originHeight","mediaData","ssrRendered","srcSetData","getImgRef"],E="".concat(u.H3,"-picture");function R(e){var r=n.A.useMergeProps(R.defaultPropsValue,e),t=r.src,s=r.alt,u=r.layout,l=r.lazyload,m=r.className,v=r.useWebp,S=r.placeholder,j=(r.errorImg,r.width),W=r.height,D=r.style,I=r.pictureClassName,k=r.pictureStyle,N=(r.resize,r.originWidth),L=r.originHeight,M=(r.mediaData,r.ssrRendered),O=(r.srcSetData,r.getImgRef),C=(0,i.A)(r,y),U=!(0,f.Q2)(t)&&!(0,f.nA)(t)&&v,F=function(e){var r=e.errorImg,t=e.src,i=e.onError,s=e.onLoad,c=e.mediaData,n=e.resize,u=e.useWebp,d=e.srcSetData,l=e.lazyload,m=(0,f.iM)(c,t),p=(0,o.useRef)(new Map),v=(0,o.useState)(!t),g=(0,b.A)(v,2),S=g[0],A=g[1],x=(0,o.useState)(S&&!r),w=(0,b.A)(x,2),z=w[0],y=w[1],E=(0,o.useState)(!1),R=(0,b.A)(E,2),j=R[0],W=R[1],D=(0,o.useMemo)(()=>{var e,r;return d.length>0&&(e=(0,f.eA)({srcSetData:d,resize:n,useWebp:!1}),r=(0,f.eA)({srcSetData:d,resize:n,useWebp:u})),{imgSrcSet:e,sourceSrcSet:r}},[d,n,u]),I=S&&r,k=(0,o.useMemo)(()=>{var e=I?r:t,a=I?(0,f.by)(e,!1):(0,f.kz)(n,(0,f.by)(e,!1),h.resize),i=(0,f.kz)(n,(0,f.by)(e,u),h.resize),o=u&&!(0,f.U)(a),s=D.sourceSrcSet||i;return{imgSrc:a,sourceSrc:i,requestSrc:o?s:a,needSource:o,sourceSrcset:s}},[D,I,t,n,u,r]);return(0,o.useEffect)(()=>{S&&t&&A(!1),z&&t&&y(!1)},[t]),(0,a.A)((0,a.A)({onError:(e,t,a)=>{p.current.set(a,{onerror:!0}),A(!0),i(e,t),r?t==r&&y(!0):y(!0)},onLoad:(e,r,t)=>{p.current.set(t,{onload:!0}),l&&W(!0),s(e)},isLoaded:j,isFallbackError:z,isErrorState:I,mediaSource:m,loadedImages:p},D),k)}((0,a.A)((0,a.A)({},r),{},{useWebp:U})),H=F.isLoaded,_=F.isFallbackError,q=F.isErrorState,B=F.mediaSource,P=function(e){var r=e.store,t=e.ssrRendered,a=r.onError,i=r.onLoad,s=r.mediaSource,c=r.loadedImages,n=r.requestSrc,u=(0,z.A)().media,d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(t&&d.current){var e,r=d.current,o=r.complete,l=r.naturalHeight,m=s&&(null===(e=s.find(e=>e.media===g[u]))||void 0===e?void 0:e.src)||n;o&&!c.current.has(m)&&(l>0?i(d.current,n,m):a(d.current,n,m))}},[]),{imgRef:d}}({store:F,ssrRendered:M}),Q=P.imgRef,T=function(e){var r=(0,o.useRef)(null),t=(0,o.useState)(!e),s=(0,b.A)(t,2),c=s[0],n=s[1];return(0,o.useEffect)(()=>{if(e){var t,o="object"===typeof e?e:{},s=o.top,u=void 0===s?0:s,d=o.bottom,l=void 0===d?0:d,m=o.right,p=void 0===m?0:m,v=o.left,h=void 0===v?0:v,g=(0,i.A)(o,w),f="".concat(u,"px ").concat(p,"px ").concat(l,"px ").concat(h,"px"),S=!1;r.current&&!c&&(x.A.IntersectionObserver?(t=new x.A.IntersectionObserver(e=>{e.forEach(e=>{!S&&(e.intersectionRatio>0||e.isIntersecting)&&n(!0)})},(0,a.A)({threshold:.01,rootMargin:f},g))).observe(r.current):n(!0));var A=r.current;return()=>{S=!0,t&&t.unobserve&&A&&(t.unobserve(A),t=null)}}},[e]),{imageRef:r,visible:c,lazyload:e}}(l),V=T.imageRef,Y=T.visible,$=_||l&&!H&&!Y,G=(0,a.A)({width:j,height:W},D);return(0,d.jsxs)("picture",{className:c()(n.A.data.okdNamespace,E,I,{["".concat(E,"-font")]:!$}),ref:V,style:k,children:[Y&&!_&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(A,{mediaSource:B,isErrorState:q,useWebp:U}),(0,d.jsx)(p,(0,a.A)((0,a.A)({},C),{},{store:F,ref:e=>{Q.current=e,null===O||void 0===O||O(e)},width:N||j,height:L||W,style:G,className:c()(u&&"".concat(E,"-").concat(u),m),alt:s}))]}),$&&S]})}R.defaultPropsValue={resize:void 0,layout:void 0,lazyload:!1,className:"",pictureClassName:"",style:{},pictureStyle:{},useWebp:!0,placeholder:void 0,errorImg:null,mediaData:[],srcSetData:[],onError:()=>{},onLoad:()=>{},width:void 0,height:void 0,originWidth:void 0,originHeight:void 0,src:void 0,alt:"",ssrRendered:!1},R.MEDIA=g,R.LAYOUT=v,R.ACTION=h;const j=R},22871:(e,r,t)=>{t.d(r,{Q2:()=>v,U:()=>g,by:()=>b,eA:()=>z,iM:()=>w,kz:()=>x,nA:()=>h});var a=t(89379),i=t(80045),o=t(5544),s=t(84854),c=["media","type","src","resize","crop","w","h"],n="x-oss-process=image/",u=new RegExp("(".concat(n,"[^&]+&??)")),d="format,webp",l="/ignore-error,1",m={resize:"resize",crop:"crop"},p=e=>e.replace(/\s/g,"%20");function v(e){return!!(e&&e.startsWith("data:")&&e.includes("base64,"))}function h(e){return e&&e.startsWith("blob:")}function g(e){return e.includes(d)}function f(e){var r=s.A.cdnDomainMap,t=void 0===r?{}:r,a="";return!e.includes(s.A.cdnBaseUrl)&&Object.values(t).some(r=>!!e.includes(r)&&(a=r,!0))?e.replace(a,s.A.cdnBaseUrl):e}function S(e){return e.includes(l)?"".concat(e.replace(l,"")).concat(l):"".concat(e).concat(l)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,t=e;return e.includes(r)?e:(t.indexOf(n)>-1?t=t.replace(u,"$1/".concat(r)):-1!==t.indexOf("?")?t+="&".concat(n).concat(r):t+="?".concat(n).concat(r),S(t))}function b(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=e;return t?h(e)?e:(t=f(p(e)),r?A(t,d):t):""}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;if(!r)return"";var a=Object.entries(e).map(e=>{var r,t=(0,o.A)(e,2),a=t[0],i=t[1];return i?"".concat((r=a,r[0]),"_").concat(i):""}).filter(Boolean).join(",");return a?A(r,"".concat(t,",").concat(a,",type_6")):r},w=(e,r)=>e.map(e=>{var t=e.media,o=e.type,s=void 0===o?m.resize:o,n=e.src,u=e.resize,d=e.crop,l=e.w,p=e.h,v=(0,i.A)(e,c),h=s;d&&(h=m.crop),u&&(h=m.resize);var g=x(u||d||{width:l,height:p},n||r,h);return(0,a.A)({media:t,src:g},v)}),z=e=>{var r=e.srcSetData,t=e.resize,a=e.useWebp;return r.map(e=>{var r=x(t,b(e.src,a),m.resize);return"".concat(r," ").concat(e.size)}).join(",")}}}]);
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/web3-activities/5281/index.18496cc0.js.map